(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{117:function(e,t){},118:function(e,t){},137:function(e,t,n){},138:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(24),i=n.n(c),s=n(16),l=n(11),o=n.p+"static/media/Logo.d373205c.png",u=Object(r.createContext)(),d=Object(r.createContext)(),b=Object(r.createContext)(),j=n(0),m=function(e){var t=e.title,n=(e.icon,Object(r.useContext)(u)),a=Object(r.useContext)(d),c=Object(r.useContext)(b),i=n.isAuthenticated,l=n.logout,m=n.member,p=n.role,O=a.clearTrainingGroups,h=c.clearTrainingSessions,f=Object(j.jsxs)(r.Fragment,{children:[Object(j.jsx)("li",{children:Object(j.jsxs)(s.b,{to:"/",children:[Object(j.jsx)("i",{className:"fa fa-list-alt","aria-hidden":"true"}),Object(j.jsx)("span",{className:"hide-sm",children:" \xdcbersicht"})]})}),("admin"===p||"superUser"===p)&&Object(j.jsx)("li",{children:Object(j.jsxs)(s.b,{to:"/sessions",children:[Object(j.jsx)("i",{className:"fa fa-calendar","aria-hidden":"true"}),Object(j.jsx)("span",{className:"hide-sm",children:" Trainingseinheiten"})]})}),("admin"===p||"superUser"===p)&&Object(j.jsx)("li",{children:Object(j.jsxs)(s.b,{to:"/groups",children:[Object(j.jsx)("i",{className:"fa fa-users","aria-hidden":"true"}),Object(j.jsx)("span",{className:"hide-sm",children:" Trainingsgruppen"})]})}),("admin"===p||"superUser"===p)&&Object(j.jsx)("li",{children:Object(j.jsxs)(s.b,{to:"/messages",children:[Object(j.jsx)("i",{className:"fa fa-envelope-open-text","aria-hidden":"true"}),Object(j.jsx)("span",{className:"hide-sm",children:" Nachrichten"})]})}),Object(j.jsx)("li",{children:Object(j.jsxs)(s.b,{to:"/memberPage",children:[Object(j.jsx)("i",{className:"fa fa-user-circle","aria-hidden":"true"}),Object(j.jsx)("span",{className:"hide-sm",children:" Mitglieder"})]})}),("admin"===p||"superUser"===p)&&Object(j.jsx)("li",{children:Object(j.jsxs)(s.b,{to:"/oldSess",children:[Object(j.jsx)("i",{className:"fa fa-reply-all","aria-hidden":"true"}),Object(j.jsx)("span",{className:"hide-sm",children:" Alte Eintr\xe4ge"})]})}),"member"===p&&Object(j.jsxs)("li",{children:["Hallo ",m&&m.name]}),Object(j.jsx)("li",{children:Object(j.jsxs)("a",{onClick:function(){l(),O(),h()},href:"#!",children:[Object(j.jsx)("i",{className:"fas fa-sign-out-alt"}),Object(j.jsx)("span",{className:"hide-sm",children:" Logout"})]})})]}),g=Object(j.jsxs)(r.Fragment,{children:[Object(j.jsx)("li",{children:Object(j.jsx)(s.b,{to:"/register",children:"Registrierung"})}),Object(j.jsx)("li",{children:Object(j.jsx)(s.b,{to:"/login",children:"Login"})})]});return Object(j.jsxs)("div",{className:"navbar bg-primary middle",children:[Object(j.jsxs)("h1",{className:"text-light-color x-large",children:[Object(j.jsx)("img",{src:o,className:"kentai-logo"})," ",t]}),Object(j.jsx)("ul",{children:i?f:g})]})};m.defaultProps={title:"Training Planer"};var p=m,O=n(38),h=n.n(O),f=n(5),g=n(4),x=n(142),v=n(140),y=n(2),N=n(12),k=n.n(N),C=(n(21),Object(r.createContext)()),w=n(8),S=n.n(w);k.a.globalLocale="de";var T=function(e){var t=e.session,n=e.checkIn,a=Object(r.useContext)(u),c=a.role,i=a.loading,s=Object(r.useContext)(b),l=(s.getTrainingSessions,s.deleteTrainingSession,s.setCurrent),o=(s.clearCurrent,s.updateTrainingSession),m=Object(r.useContext)(d),p=m.trainingGroup,O=(m.getTrainingGroups,Object(r.useContext)(C)),h=(O.getMembers,t._id,t.description),x=t.maxMembers,v=t.memberCount,N=t.members,w=t.time,T=t.timeTo,_=t.date,E=[];void 0!=p&&(E=p.filter((function(e){return e._id===t.trainingGroup})));var M=Object(r.useState)(!1),G=Object(g.a)(M,2),A=G[0],R=G[1];Object(r.useEffect)((function(){n.name&&(n=n._id),console.log("checkIn",n),R(!1),void 0!==t.members.find((function(e){return e===n}))&&R(!0)}),[n,t.members]);var D,L;if(O.members){var U=Object(f.a)(O.members.filter((function(e){return e.familyMember.length>0})).map((function(e){return e.familyMember})).flat(1)).filter((function(e){return t.members.includes(e._id)}));D=[].concat(Object(f.a)(O.members.filter((function(e){return t.members.includes(e._id)}))),Object(f.a)(U))}return O.members&&t.trainer&&(L=O.members.filter((function(e){return e._id===t.trainer}))),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:!0===A?"card bg-dark card-content":"card bg-light card-content",children:[Object(j.jsxs)("h3",{className:!0===A?"text- text-left large":"text-dark text-left large",children:[h," "]}),Object(j.jsxs)("ul",{className:"list",children:[p&&E[0]&&E[0].trainingGroup&&!i&&Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{})," Trainingsgruppe: ",E[0].trainingGroup]}),O.members&&L&&!i&&Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{})," Trainer: ",L[0].name]}),w&&Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{})," Zeit: ",Object(j.jsx)("time",{format:"h:mm:ss",children:w}),T&&Object(j.jsx)("time",{format:"h:mm:ss",children:" - ".concat(T)})]}),_&&Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{})," Datum: ",Object(j.jsx)(k.a,{format:"Do MMMM YYYY",children:_})]}),x&&Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{})," Maximale Teilnehmer: ",x]}),v&&Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{})," Angemeldete Teilnehmer: ",v]}),("admin"===c||"superUser"===c)&&D&&Object(j.jsxs)("div",{children:[Object(j.jsx)("i",{class:"fa fa-user"})," ",Object(j.jsx)("bold",{children:"Teilnehmer:"})," ",Object(j.jsx)("br",{}),D.map((function(e){return e.name})).join(", ")]})]}),("admin"===c||"superUser"===c)&&Object(j.jsxs)("p",{children:[Object(j.jsx)("button",{className:"btn btn-dark btn-sm",onClick:function(){return l(t)},children:"\xc4ndern"}),Object(j.jsx)("button",{"data-target":"clear-modal-session",class:"btn btn-danger btn-sm modal-trigger",onClick:function(){return l(t)},children:"L\xf6schen"})]}),("member"===c||"admin"===c||"trainer"===c)&&Object(j.jsx)("div",{class:"switch",children:Object(j.jsx)("p",{children:Object(j.jsxs)("label",{children:["Check Out",Object(j.jsx)("input",{type:"checkbox",className:"filled-in",name:t._id,value:t.id,checked:A,onChange:function(e){return function(e){e.preventDefault(),R(!A),x&&!A&&v>=x&&S.a.toast({html:"Kein Platz mehr frei",classes:"red darken-2",displayLength:1500}),A||!(v<x)&&x||o(Object(y.a)(Object(y.a)({},t),{},{members:[].concat(Object(f.a)(N),[n]),memberCount:v+1})),A&&(1===v?o(Object(y.a)(Object(y.a)({},t),{},{members:N.filter((function(e){return e!==n})),memberCount:"0"})):(v-1>=0&&o(Object(y.a)(Object(y.a)({},t),{},{members:N.filter((function(e){return e!==n})),memberCount:v-1})),v-1<0&&o(Object(y.a)(Object(y.a)({},t),{},{members:N.filter((function(e){return e!==n})),memberCount:v}))))}(e,t._id)},disabled:x&&!A&&v>=x},t._id),Object(j.jsx)("span",{class:"lever"}),"Check In"]})})})]})})},_=function(){return Object(j.jsx)(r.Fragment,{children:Object(j.jsx)("div",{className:"preloader-wrapper big active",children:Object(j.jsxs)("div",{className:"spinner-layer spinner-blue",children:[Object(j.jsx)("div",{className:"circle-clipper left",children:Object(j.jsx)("div",{className:"circle"})}),Object(j.jsx)("div",{className:"gap-patch",children:Object(j.jsx)("div",{className:"circle"})}),Object(j.jsx)("div",{className:"circle-clipper right",children:Object(j.jsx)("div",{className:"circle"})})]})})})},E=n(15),M=n.n(E),G=function(){var e=Object(r.useContext)(u),t=e.role,n=Object(r.useContext)(b),a=n.trainingSessions,c=n.filtered,i=n.getTrainingSessions,s=n.loading,l=Object(r.useContext)(C)._id;Object(r.useEffect)((function(){console.log("membbegin",m),console.log("chosenbegin",y),i(),p(y)}),[]);var o=Object(r.useState)({_id:e.member._id,name:e.member._id,role:e.member.role,trainingGroup:e.member.trainingGroup,trainingSessions:e.member.trainingSessions}),d=Object(g.a)(o,2),m=d[0],p=d[1],O=Object(r.useState)({_id:e.member._id,name:e.member._id,role:e.member.role,trainingGroup:e.member.trainingGroup,trainingSessions:e.member.trainingSessions}),h=Object(g.a)(O,2),y=h[0],N=h[1];if(null!==a&&0===a.length&&!s&&("admin"===t||"superUser"===t))return Object(j.jsx)("h4",{children:"Bitte f\xfcge eine Trainingseinheit hinzu:"});var k=[];!a||"admin"!==t&&"superUser"!==t||(k=a.filter((function(e){return e.date>=M()(Date.now()).format("YYYY-MM-DD")}))),!a||"member"!==t&&"trainer"!==t||(k=(k=a.filter((function(e){return void 0!==y.trainingGroup.find((function(t){return t===e.trainingGroup}))}))).filter((function(e){return e.date>=M()(Date.now()).format("YYYY-MM-DD")})));var w=[e.member].concat(Object(f.a)(e.member.familyMember));return Object(j.jsxs)(r.Fragment,{children:[Object(j.jsx)("div",{className:"column card bg-light",children:Object(j.jsx)("div",{className:"input-field",children:Object(j.jsx)("select",{value:l,name:"member",className:"browser-default",onChange:function(e){p(e.target.value),N(w.filter((function(t){return t._id===e.target.value}))[0]),console.log("chosenMember",y),console.log("member",m)},children:w.map((function(e){return Object(j.jsxs)("option",{value:e._id,children:[" ",e.name]},e._id)}))})})}),null===k||s?Object(j.jsx)(_,{}):Object(j.jsx)(x.a,{children:null!==c?c.map((function(e){return Object(j.jsx)(v.a,{timeout:300,classNames:"item",children:Object(j.jsx)(T,{session:e,checkIn:m})},e._id)})):k.map((function(e){return Object(j.jsx)(v.a,{timeout:300,classNames:"item",children:Object(j.jsx)(T,{session:e,checkIn:m})},e._id)}))})]})};k.a.globalLocale="de";var A=function(e){var t=e.session,n=Object(r.useContext)(u),a=n.role,c=n.loading,i=Object(r.useContext)(d).trainingGroup,s=Object(r.useContext)(C),l=t.description,o=t.maxMembers,b=t.memberCount,m=t.members,p=t.time,O=t.timeTo,h=t.date,x=[];i&&(x=i.filter((function(e){return e._id===t.trainingGroup})));var v,y,N=Object(r.useState)(!1),w=Object(g.a)(N,2),S=w[0],T=w[1];if(Object(r.useEffect)((function(){void 0!==t.members.find((function(e){return e===n.member._id}))&&T(!0)}),[t.members,n.member._id,m]),s.members){var _=Object(f.a)(s.members.filter((function(e){return e.familyMember.length>0})).map((function(e){return e.familyMember})).flat(1)).filter((function(e){return t.members.includes(e._id)}));v=[].concat(Object(f.a)(s.members.filter((function(e){return t.members.includes(e._id)}))),Object(f.a)(_))}return s.members&&t.trainer&&(y=s.members.filter((function(e){return e._id===t.trainer}))),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:!0===S?"card bg-primary":"card bg-light card-content",children:[Object(j.jsxs)("h3",{className:!0===S?"text- text-left large":"text-primary text-left large",children:[l," "]}),Object(j.jsxs)("ul",{className:"list",children:[i&&x[0].trainingGroup&&!c&&Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{})," Trainingsgruppe: ",x[0].trainingGroup]}),s.members&&y&&!c&&Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{})," Trainer: ",y[0].name]}),p&&Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{})," Zeit: ",Object(j.jsx)("time",{format:"h:mm:ss",children:p}),O&&Object(j.jsx)("time",{format:"h:mm:ss",children:" - ".concat(O)})]}),h&&Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{})," Datum: ",Object(j.jsx)(k.a,{format:"Do MMMM YYYY",children:h})]}),o&&Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{})," Maximale Teilnehmer: ",o]}),b&&Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{})," Angemeldete Teilnehmer: ",b]}),("admin"===a||"superUser"===a)&&v&&Object(j.jsxs)("div",{children:[Object(j.jsx)("i",{className:"fa fa-user"})," ",Object(j.jsx)("strong",{children:"Teilnehmer:"})," ",Object(j.jsx)("br",{}),v.map((function(e){return e.name})).join(", ")]})]})]})})},R=function(){var e=Object(r.useContext)(u),t=e.role,n=Object(r.useContext)(b),a=n.trainingSessions,c=n.filtered,i=n.getTrainingSessions,s=n.loading;if(Object(r.useEffect)((function(){i()}),[]),null!==a&&0===a.length&&!s&&("admin"===t||"superUser"===t))return Object(j.jsx)("h4",{children:"Bitte f\xfcge eine Trainingseinheit hinzu:"});var l=[];return!a||"admin"!==t&&"superUser"!==t||(l=a.filter((function(e){return e.date>=M()(Date.now()).format("YYYY-MM-DD")}))),a&&"member"===t&&(l=(l=a.filter((function(t){return void 0!==e.member.trainingGroup.find((function(e){return e===t.trainingGroup}))}))).filter((function(e){return e.date>=M()(Date.now()).format("YYYY-MM-DD")}))),Object(j.jsx)(r.Fragment,{children:null===l||s?Object(j.jsx)(_,{}):Object(j.jsx)(x.a,{children:null!==c?c.map((function(e){return Object(j.jsx)(v.a,{timeout:300,classNames:"item",children:Object(j.jsx)(A,{session:e})},e._id)})):l.map((function(e){return Object(j.jsx)(v.a,{timeout:300,classNames:"item",children:Object(j.jsx)(A,{session:e})},e._id)}))})})},D=function(){var e=Object(r.useContext)(u).role,t=Object(r.useContext)(b),n=t.filterTrainingSessions,a=t.clearFilter,c=t.filtered,i=Object(r.useRef)("");Object(r.useEffect)((function(){"admin"===e&&null===c&&(i.current.value="")}));return Object(j.jsx)("form",{children:Object(j.jsx)("input",{ref:i,type:"text",placeholder:"Suche Trainingseinheit...",onChange:function(e){""!==i.current.value?n(e.target.value):a()}})})},L=n(3),U=n.n(L),I=n(6),P=function(){var e=Object(r.useContext)(d),t=e.trainingGroup,n=e.getTrainingGroups,a=e.loading;return Object(r.useEffect)((function(){n()}),[]),!a&&null!==t&&t.map((function(e){return Object(j.jsx)("option",{value:e._id,children:e.trainingGroup},e._id)}))},F=function(){var e=Object(r.useContext)(u).member,t=Object(r.useContext)(C),n=t.updateMember,a=t.members,c=(Object(r.useContext)(d),e._id),i=(e.name,e.email),s=e.role,l=Object(r.useState)(""),o=Object(g.a)(l,2),b=o[0],m=o[1],p=Object(r.useState)(""),O=Object(g.a)(p,2),h=O[0],x=(O[1],Object(r.useState)(!1)),v=Object(g.a)(x,2),y=v[0],N=v[1];function k(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),a=0;a<n.length;++a)r[a]=n.charCodeAt(a);return r}function w(){return(w=Object(I.a)(U.a.mark((function t(){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.devices.length>0&&null!==_&&navigator.serviceWorker.ready.then((function(e){return e.pushManager?e.pushManager.getSubscription():e.safari.pushNotification()})).then((function(t){t&&""!==e.devices.filter((function(e){return e.endpoint===t.endpoint}))&&(console.log("true"),N(!0))}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(){return T.apply(this,arguments)}function T(){return(T=Object(I.a)(U.a.mark((function t(){var r,a,s,l,o;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.serviceWorker.register("/custom-sw.js");case 2:return r=t.sent,console.log("reg",r),t.next=6,navigator.serviceWorker.ready;case 6:if(a=t.sent,console.log("Registering Push...",c,i),console.log("service worker",a),console.log("reg",r),!a.pushManager){t.next=16;break}return t.next=13,a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:k(M)});case 13:s=t.sent,t.next=20;break;case 16:return console.log("sw",a),t.next=19,a.safari.pushNotification({userVisibleOnly:!0,applicationServerKey:k(M)});case 19:s=t.sent;case 20:console.log("subscription"),l={endpoint:s.endpoint,keys:{p256dh:s.toJSON().keys.p256dh,auth:s.toJSON().keys.auth}},console.log("subscribeData",l),o={_id:c,email:i,devices:[].concat(Object(f.a)(e.devices),[l])},console.log("subscribe member",o),!1===e.devices.includes(s.endpoint)&&n(o);case 26:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(){return E.apply(this,arguments)}function E(){return(E=Object(I.a)(U.a.mark((function t(){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.devices.length>0&&null!==_&&navigator.serviceWorker.ready.then((function(e){return e.pushManager.getSubscription()})).then((function(t){if(t)return t.unsubscribe().then((function(){var r={_id:c,email:i,devices:e.devices.filter((function(e){return e.endpoint!==t.endpoint}))};console.log("unsubscribe member",r),n(r)}))}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){w.apply(this,arguments)}()}),[]);var M="BHdPFvPLuUV7jmCHacz5h8Qty4BX878BWqirptmLKqKC4SeUjqlqm_ki8R0hjk1wLFSxbFugvEAUcMphIYnyNLg";function G(){return(G=Object(I.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Sending Push..."),h?(console.log(a.filter((function(e){return e.trainingGroup.includes(h.trainingGroup)||"admin"===e.role}))),a.filter((function(e){return a.filter((function(e){return e.trainingGroup.includes(h.trainingGroup)}))||"admin"===e.role})).map(function(){var e=Object(I.a)(U.a.mark((function e(n){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.devices&&n.devices.map(function(){var e=Object(I.a)(U.a.mark((function e(n){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.payload=t,console.log("Gesendet"),e.next=4,fetch("/subscribe",{method:"POST",body:JSON.stringify(n),headers:{"content-type":"application/json"}});case 4:console.log("Push Sent...");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):a.map((function(e){return e.devices.map(function(){var e=Object(I.a)(U.a.mark((function e(n){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.payload=t,e.next=3,fetch("/subscribe",{method:"POST",body:JSON.stringify(n),headers:{"content-type":"application/json"}}).then(function(){var e=Object(I.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("resp",t),410!==t.status){e.next=7;break}return e.next=4,S();case 4:return console.log("subscription renewed"),e.next=7,fetch("/subscribe",{method:"POST",body:JSON.stringify(n),headers:{"content-type":"application/json"}}).then(function(){var e=Object(I.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("resp",t),console.log("Push Sent again...");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:console.log("Push Sent...");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsxs)("div",{children:["Notification"in window&&navigator.serviceWorker&&("member"===s||"trainer"===s)&&Object(j.jsxs)("div",{className:"card bg-light",children:["Push Benachrichtigungen auf diesem Ger\xe4t zulassen:",Object(j.jsx)("div",{class:"switch",children:Object(j.jsxs)("label",{children:["Nein",Object(j.jsx)("input",{type:"checkbox",name:"role",checked:y,onChange:function(e){e.preventDefault(),N(!y),!0===y?_():S()}}),Object(j.jsx)("span",{class:"lever"}),"Ja"]})})]}),("admin"===s||"superUser"===s)&&Object(j.jsxs)("div",{className:"card bg-light",children:[Object(j.jsx)("input",{type:"text",placeholder:"Sende Nachricht",name:"pushData",value:b,onChange:function(e){return m(e.target.value)}}),Object(j.jsx)("button",{className:"btn btn-dark btn-sm",variant:"warning",onClick:function(e){return function(e){return G.apply(this,arguments)}(b)},children:"Sende Push-Nachricht"})]})]})},Y=function(){var e=Object(r.useContext)(u).member,t=Object(r.useContext)(C),n=t.updateMember,a=(t.members,Object(r.useContext)(d),e._id),c=(e.name,e.email),i=e.role,s=Object(r.useState)(""),l=Object(g.a)(s,2),o=(l[0],l[1],Object(r.useState)("")),b=Object(g.a)(o,2),m=(b[0],b[1],Object(r.useState)(!1)),p=Object(g.a)(m,2),O=p[0],h=p[1];function x(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),a=0;a<n.length;++a)r[a]=n.charCodeAt(a);return r}function v(){return(v=Object(I.a)(U.a.mark((function t(){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.devices.length>0&&null!==N&&navigator.serviceWorker.ready.then((function(e){return e.pushManager.getSubscription()})).then((function(t){t&&""!==e.devices.filter((function(e){return e.endpoint===t.endpoint}))&&(console.log("true"),h(!0))}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(){return(y=Object(I.a)(U.a.mark((function t(){var r,i,s,l;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("serviceWorker"in navigator)){t.next=14;break}return t.next=3,navigator.serviceWorker.register("/custom-sw.js");case 3:return t.sent,t.next=6,navigator.serviceWorker.ready;case 6:return r=t.sent,t.next=9,r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:x(w)});case 9:i=t.sent,s={endpoint:i.endpoint,keys:{p256dh:i.toJSON().keys.p256dh,auth:i.toJSON().keys.auth}},l={_id:a,email:c,devices:[].concat(Object(f.a)(e.devices),[s])},console.log("member subscription endpoint",e.devices.includes(i.endpoint),i.endpoint),!1===e.devices.includes(i.endpoint)&&n(l);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(){return k.apply(this,arguments)}function k(){return(k=Object(I.a)(U.a.mark((function t(){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.devices.length>0&&null!==N&&navigator.serviceWorker.ready.then((function(e){return e.pushManager.getSubscription()})).then((function(t){if(t)return t.unsubscribe().then((function(){var r={_id:a,email:c,devices:e.devices.filter((function(e){return e.endpoint!==t.endpoint}))};n(r)}))}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){v.apply(this,arguments)}()}),[]);var w="BHdPFvPLuUV7jmCHacz5h8Qty4BX878BWqirptmLKqKC4SeUjqlqm_ki8R0hjk1wLFSxbFugvEAUcMphIYnyNLg";return Object(j.jsx)("div",{children:"Notification"in window&&navigator.serviceWorker&&("admin"===i||"superUser"===i)&&Object(j.jsxs)("div",{children:["Push Benachrichtigungen auf diesem Ger\xe4t zulassen:",Object(j.jsx)("div",{class:"switch",children:Object(j.jsxs)("label",{children:["Nein",Object(j.jsx)("input",{type:"checkbox",name:"role",checked:O,onChange:function(e){e.preventDefault(),h(!O),!0===O?N():function(){y.apply(this,arguments)}()}}),Object(j.jsx)("span",{class:"lever"}),"Ja"]})})]})})};k.a.globalLocale="de";var B=function(e){var t=Object(r.useContext)(u),n=t.role,a=Object(r.useContext)(C).getMembers,c=Object(r.useContext)(d).getTrainingGroups,i=Object(r.useContext)(b),s=i.filterTrainingSessions,l=i.getTrainingSessions;Object(r.useEffect)((function(){t.loadMember(),c(),l(),a()}),[]);var o=0;return"admin"!==n&&"superUser"!==n||(o=3),"member"!==n&&"trainer"!==n&&"none"!==n||(o=1),Object(j.jsxs)("div",{className:"grid-".concat(o),children:[Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"center-cal",children:[("admin"===n||"superUser"===n)&&Object(j.jsx)("h4",{className:"text-primary large center",children:"Trainingseinheiten am:"}),("admin"===n||"superUser"===n)&&Object(j.jsx)(h.a,{activeMonth:new Date,daysOfWeek:["Mo","Di","Mi","Do","Fr","Sa","So"],onSelect:function(e){var t=M()(e).format("YYYY-MM-DD");s(t)}}),Object(j.jsx)("br",{}),("admin"===n||"superUser"===n)&&Object(j.jsx)(D,{}),("member"===n||"trainer"===n)&&Object(j.jsx)(G,{}),"none"===n&&Object(j.jsx)("h2",{className:"text-primary large",children:"Melde dich bei deinem Trainer, damit er dich eincheckt"}),("admin"===n||"superUser"===n)&&Object(j.jsx)(Y,{})]})}),Object(j.jsxs)("div",{className:"card-grid-3",children:[("admin"===n||"superUser"===n)&&Object(j.jsx)("h4",{className:"text-dark large center",children:"Kommende Trainingseinheiten:"}),("admin"===n||"superUser"===n)&&Object(j.jsx)(R,{})]})]})},z=n(14),W=Object(r.createContext)();k.a.globalLocale="de";var K=function(){var e=Object(r.useContext)(u),t=e.role,n=(Object(r.useContext)(d).getTrainingGroups,Object(r.useContext)(W)),a=n._id,c=n.addEmail,i=(n.updateEmail,n.clearCurrent),s=n.current,l=Object(r.useState)({from:e.member.email,to:"",subject:"",message:""}),o=Object(g.a)(l,2),b=o[0],m=o[1];Object(r.useEffect)((function(){console.log("current",s),null!==s?(console.log("current not null"),m({from:e.member.email,to:s.to,subject:s.subject,message:s.message}),console.log("set effect email",b),console.log("set effect subject",s.subject),console.log("set effect message",s.message)):m({from:e.member.email,to:"",subject:"",message:""})}),[n,s]);var p=Object(r.useState)({}),O=Object(g.a)(p,2),h=(O[0],O[1]),f=function(e){return m(Object(y.a)(Object(y.a)({},b),{},Object(z.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""===b.subject?S.a.toast({html:"Bitte Betreff eingeben",className:"kentai-color",displayLength:1500}):""===b.message?S.a.toast({html:"Bitte Nachricht eingeben",className:"kentai-color",displayLength:1500}):(c(b),m({from:e.member.email,to:"",subject:"",message:""}),S.a.toast({html:"E-Mail versandt",className:"kentai-color",displayLength:1500}))},children:[Object(j.jsx)("h2",{className:"text-dark large",children:"E-Mail an Mitglieder senden"}),Object(j.jsx)("div",{className:"input-field",children:Object(j.jsxs)("select",{name:"to",value:a,className:"browser-default",onChange:function(e){e.preventDefault(),h(e.target.value),m(Object(y.a)(Object(y.a)({},b),{},Object(z.a)({},e.target.name,e.target.value)))},children:[Object(j.jsx)("option",{defaultValue:"",disabled:!0,children:"Trainingsgruppe..."}),Object(j.jsx)("option",{value:"alle",children:"Alle"}),Object(j.jsx)(P,{})]},a)}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"subject",children:"Betreff"}),Object(j.jsx)("input",{type:"text",className:"form-control",name:"subject",value:b.subject,"aria-describedby":"Betreff",onChange:f})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"message",children:"Nachricht"}),Object(j.jsx)("textarea",{className:"form-control textfield",style:{height:"15%"},rows:"10",name:"message",value:b.message,onChange:f})]}),Object(j.jsx)("button",{type:"submit",className:"btn btn-dark",children:"Absenden"})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"btn btn-light btn-block",onClick:function(){i()},children:"Formular leeren"})})]})};k.a.globalLocale="de";var Z=function(e){var t=e.email,n=Object(r.useContext)(W),a=(n.deleteEmail,n.setCurrent),c=(t._id,t.subject),i=t.message,s=(t.from,t.to),l=t.createdAt,o=Object(r.useContext)(d).trainingGroup,u="";return o&&(void 0!==o&&void 0!==o.find((function(e){return e._id===s}))&&(u=o.find((function(e){return e._id===s})).trainingGroup),"alle"===s&&(u="Alle")),Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"card bg-light",children:[Object(j.jsxs)("h3",{className:"text-dark text-left large",children:[u," "]}),l&&Object(j.jsxs)("p",{children:["Gesendet: ",Object(j.jsx)(k.a,{format:"Do MMMM YYYY hh:mm",children:l})]}),Object(j.jsxs)("p",{children:["Betreff: ",c]}),Object(j.jsxs)("p",{children:["Nachricht: ",i]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("button",{className:"btn btn-dark btn-sm",onClick:function(){return a(t)},children:"In den Editor laden"}),Object(j.jsx)("button",{"data-target":"clear-modal-email",class:"btn btn-danger btn-sm modal-trigger",onClick:function(){return a(t)},children:"L\xf6schen"})]})]})})},J=function(){var e=Object(r.useContext)(u).role,t=Object(r.useContext)(W),n=t.emails,a=t.filtered,c=t.getEmails,i=t.loading;return Object(r.useEffect)((function(){c()}),[]),null===n||0!==n.length||i||"admin"!==e?Object(j.jsx)(r.Fragment,{children:null===n||i?Object(j.jsx)(_,{}):Object(j.jsx)(x.a,{children:null!==a?a.map((function(e){return Object(j.jsx)(v.a,{timeout:300,classNames:"item",children:Object(j.jsx)(Z,{email:e})},e._id)})):n.map((function(e){return Object(j.jsx)(v.a,{timeout:300,classNames:"item",children:Object(j.jsx)(Z,{email:e})},e._id)}))})}):(console.log("not loading"),Object(j.jsx)("h4",{children:"Noch keine Mails in der Datenbank:"}))};k.a.globalLocale="de";var q=function(e){var t=Object(r.useContext)(u),n=t.role,a=Object(r.useContext)(C).getMembers,c=Object(r.useContext)(d).getTrainingGroups;Object(r.useEffect)((function(){t.loadMember(),c(),a()}),[]);return"admin"!==n&&"superUser"!==n||3,"member"!==n&&"trainer"!==n&&"none"!==n||1,Object(j.jsxs)("div",{children:[("admin"===n||"superUser"===n)&&Object(j.jsx)(F,{}),("admin"===n||"superUser"===n)&&Object(j.jsx)(K,{}),("admin"===n||"superUser"===n)&&Object(j.jsx)(J,{})]})},V=function(e){var t=e.member,n=Object(r.useContext)(C).setCurrent,a=t.name,c=t.email,i=t.role,s=Object(r.useContext)(d).trainingGroup,l=[];return s&&(l=Object(f.a)(new Set(s.filter((function(e){return t.trainingGroup.includes(e._id)}))))),Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"card bg-light card-content list-card",children:[Object(j.jsxs)("h3",{className:"text-dark text-left large",children:[a," "]}),Object(j.jsxs)("ul",{className:"list",children:[c&&Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{className:"fas fa-envelope-open"})," E-Mail Adresse: ",c]}),i&&Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{className:"fa fa-user","aria-hidden":"true"})," Berechtigung: ",i]}),l&&"admin"!==i&&Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{className:"fa fa-users","aria-hidden":"true"})," Trainingsgruppen:"," ",l.map((function(e){return e.trainingGroup})).join(", ")]})]}),"admin"!==i&&Object(j.jsxs)("p",{children:[Object(j.jsx)("button",{className:"btn btn-dark btn-sm",onClick:function(){return n(t)},children:"\xc4ndern"}),Object(j.jsx)("button",{"data-target":"clear-modal-member",class:"btn btn-danger btn-sm modal-trigger",onClick:function(){return n(t)},children:"L\xf6schen"})]})]})})},H=function(){var e=Object(r.useContext)(u).role,t=Object(r.useContext)(C),n=t.members,a=t.filtered,c=t.getMembers,i=t.loading;return Object(r.useEffect)((function(){c()}),[]),null===n||0!==n.length||i||"admin"!==e?Object(j.jsx)(r.Fragment,{children:null===n||i?Object(j.jsx)(_,{}):Object(j.jsx)(x.a,{children:null!==a?a.map((function(e){return Object(j.jsx)(v.a,{timeout:300,classNames:"item",children:Object(j.jsx)(V,{member:e})},e._id)})):n.map((function(e){return Object(j.jsxs)(r.Fragment,{children:[Object(j.jsx)(v.a,{timeout:300,classNames:"item",children:Object(j.jsx)(V,{member:e})},e._id),null!==e.familyMember&&e.familyMember.map((function(e){return Object(j.jsx)(v.a,{timeout:300,classNames:"item",children:Object(j.jsx)(V,{member:e})},e._id)}))]})}))})}):Object(j.jsx)("h4",{children:"Bitte f\xfcge ein Mitglied hinzu:"})},Q=function(){var e=Object(r.useContext)(C),t=e.updateMember,n=e.clearCurrent,a=e.current,c=Object(r.useState)({name:"",email:"",role:"",trainingGroup:[],trainingSessions:[]}),i=Object(g.a)(c,2),s=i[0],l=i[1],o=s.name,u=s.email,d=s.role,b=Object(r.useState)(!0),m=Object(g.a)(b,2),p=m[0],O=m[1],h=Object(r.useState)(!1),f=Object(g.a)(h,2),x=f[0],v=f[1],y=Object(r.useState)(!1),N=Object(g.a)(y,2),k=N[0],w=N[1];Object(r.useEffect)((function(){null!==a?("none"===a.role&&w(!0),l(a),"trainer"===a.role&&v(!0)):l({name:"",email:"",role:"",trainingGroup:[],trainingSessions:[]})}),[e,a]);return Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===u)S.a.toast({html:"Bitte eine g\xfcltige E-Mail Adresse eingeben",classes:"red darken-1",displayLength:1500});else{a.role=!0===p?"none":"member",a.role=!0===x?"trainer":"member";var n={_id:a._id,name:o,email:u,role:a.role,trainingGroup:a.trainingGroup,date:new Date};"member"!==a.role&&"trainer"!==a.role||!0!==k||(n.sendMail=!0),console.log("uopdme",n),console.log("roole",a.role),console.log("mail",k),t(n),w(!1)}},children:[Object(j.jsx)("h2",{className:"text-dark large",children:"Mitglied \xe4ndern"}),Object(j.jsx)("h2",{className:"text-dark large",children:o}),"none"===d&&Object(j.jsxs)("div",{className:"switch",children:["Berechtigung",Object(j.jsxs)("label",{children:[":  kein Mitglied",Object(j.jsx)("input",{type:"checkbox",name:"role",value:p,onClick:function(){return O(!p)}}),Object(j.jsx)("span",{class:"lever"}),"Mitglied"]})]}),Object(j.jsx)("br",{}),("member"===d||"trainer"===d)&&!!s.email&&Object(j.jsx)("div",{class:"switch",children:Object(j.jsxs)("label",{children:["Mitglied",Object(j.jsx)("input",{type:"checkbox",name:"role",value:x,onClick:function(){return v(!x)}}),Object(j.jsx)("span",{class:"lever"}),"Trainer"]})}),Object(j.jsx)("br",{}),("member"===d||"trainer"===d)&&Object(j.jsx)("div",{children:Object(j.jsx)("a",{href:"#trainingGroup-list-modal",className:"btn btn-dark btn-block modal-trigger",children:"Trainingsgruppen"})}),a&&Object(j.jsxs)("div",{children:[("none"===d||"member"===d||"trainer"===d)&&Object(j.jsxs)("div",{children:[Object(j.jsx)("br",{}),Object(j.jsx)("a",{href:"#clear-modal-member",className:"btn btn-danger btn-block modal-trigger",children:"L\xf6schen"}),Object(j.jsx)("input",{type:"submit",value:"Mitglied aktualisieren",className:"btn btn-primary btn-block"})]}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"btn btn-light btn-block",onClick:function(){n()},children:"Formular leeren"})})]})]})},X=Object(r.createContext)(),$=function(){Object(r.useContext)(X).setAlert;var e=Object(r.useContext)(u),t=Object(r.useContext)(C).updateMember,n=Object(r.useState)({name:"",email:"",role:"",trainingGroup:[],trainingSessions:[],familyMember:[]}),a=Object(g.a)(n,2),c=a[0],i=a[1];Object(r.useEffect)((function(){e.loadMember(),i(e.member)}),[e,e.member]);var s=Object(r.useState)(""),l=Object(g.a)(s,2),o=l[0],d=l[1];return Object(j.jsxs)("div",{children:[Object(j.jsxs)("form",{onSubmit:function(n){if(n.preventDefault(),""===o)return S.a.toast({html:"Bitte gib einen Namen ein...",classes:"red darken-1",displayLength:1500});var r={_id:e.member._id,name:e.member.name,email:e.member.email,role:e.member.role,trainingGroup:e.member.trainingGroup,trainingSessions:e.member.trainingSessions,familyMember:[].concat(Object(f.a)(e.member.familyMember),[{name:o,role:"none"}]),date:new Date};t(r)},children:[Object(j.jsx)("h2",{className:"text-dark large",children:"Familienmitglied hinzuf\xfcgen oder l\xf6schen"}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"name",children:"Name"}),Object(j.jsx)("input",{type:"text",name:"newMember",value:o,onChange:function(e){return d(e.target.value)}})]}),Object(j.jsx)("input",{type:"submit",value:"Familienmitglied hinzuf\xfcgen",className:"btn btn-dark btn-block"})]}),null!==c.familyMember&&c.familyMember.map((function(n){return Object(j.jsx)("div",{className:"text-dark small my-2",children:Object(j.jsxs)("li",{class:"middle",children:[n.name,"       ",Object(j.jsx)("div",{class:"list-button text-bold",children:Object(j.jsx)("a",{href:"#!",onClick:function(){return function(n){var r={_id:e.member._id,name:e.member.name,email:e.member.email,role:e.member.role,trainingGroup:e.member.trainingGroup,trainingSessions:e.member.trainingSessions,familyMember:e.member.familyMember.filter((function(e){return e._id!==n})),date:new Date};console.log("delmemb",r),t(r)}(n._id)},className:"modal-close btn btn-danger btn-sm btn list-button",children:"L\xf6schen"})})]},n._id)})})),("member"===e.member.role||"trainer"===e.member.role)&&Object(j.jsx)(F,{})]})},ee=function(){var e=Object(r.useContext)(C),t=Object(r.useRef)(""),n=e.filterMembers,a=e.clearFilter,c=e.filtered;Object(r.useEffect)((function(){null===c&&(t.current.value="")}));return Object(j.jsx)("form",{children:Object(j.jsx)("input",{ref:t,type:"text",placeholder:"Suche Mitglied...",onChange:function(e){""!==t.current.value?n(e.target.value):a()}})})},te=function(e){var t=Object(r.useContext)(u),n=t.role;Object(r.useEffect)((function(){t.loadMember()}),[]);var a=0;return"admin"!==n&&"superUser"!==n||(a=3),Object(j.jsxs)("div",{className:"grid-".concat(a),children:[Object(j.jsxs)("div",{className:"fixed",children:[("admin"===n||"superUser"===n)&&Object(j.jsx)(Q,{}),("trainer"===n||"member"===n||"none"===n)&&Object(j.jsx)($,{}),Object(j.jsx)("br",{}),("admin"===n||"superUser"===n)&&Object(j.jsx)(ee,{})]}),Object(j.jsx)("div",{className:"card-grid-2 card-grid-3",children:("admin"===n||"superUser"===n)&&Object(j.jsx)(H,{})})]})},ne=function(e){var t,n=e.group,a=Object(r.useContext)(u).role,c=Object(r.useContext)(C).members,i=Object(r.useContext)(d),s=(i.deleteTrainingGroup,i.setCurrent),l=(i.clearCurrent,Object(r.useContext)(b).trainingSessions,n._id,n.trainingGroup),o=[];void 0!==c&&null!==c&&(o=c.filter((function(e){return e.familyMember.length>0})).map((function(e){return e.familyMember}))[0]);var m=o.filter((function(e){return n.members.includes(e._id)}));return c&&(t=[].concat(Object(f.a)(c.filter((function(e){return n.members.includes(e._id)}))),Object(f.a)(m)),t=Object(f.a)(new Set(t))),Object(j.jsxs)("div",{className:"column",children:[("admin"===a||"superUser"===a)&&Object(j.jsxs)("div",{className:"card bg-light",children:[Object(j.jsxs)("h3",{className:"text-dark text-left large",children:[l," "]}),t&&Object(j.jsxs)("div",{children:[Object(j.jsx)("i",{className:"fa fa-user"})," Mitglieder:",t.map((function(e){return Object(j.jsx)("li",{children:e.name},e._id)}))]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("button",{className:"btn btn-dark btn-sm",onClick:function(){return s(n)},children:"\xc4ndern"}),Object(j.jsx)("button",{"data-target":"clear-modal-group",class:"btn btn-danger btn-sm modal-trigger",onClick:function(){return s(n)},children:"L\xf6schen"})]})]}),"member"===a&&Object(j.jsx)("div",{className:"card bg-light",children:Object(j.jsxs)("h3",{className:"text-dark text-left large",children:[n.trainingGroup," "]})})]})},re=function(){var e=Object(r.useContext)(u).role,t=Object(r.useContext)(d),n=t.trainingGroup,a=t.filtered,c=t.loading;return null===n||0!==n.length||c||"admin"!==e?Object(j.jsx)(r.Fragment,{children:null===n||c?Object(j.jsx)(_,{}):Object(j.jsx)(x.a,{children:null!==a?a.map((function(e){return Object(j.jsx)(v.a,{timeout:300,classNames:"item",children:Object(j.jsx)(ne,{group:e})},e._id)})):n.map((function(e){return Object(j.jsx)(v.a,{timeout:300,classNames:"item",children:Object(j.jsx)(ne,{group:e})},e._id)}))})}):Object(j.jsx)("h4",{className:"large",children:"Bitte f\xfcge eine Trainingsgruppe hinzu:"})},ae=function(){var e=Object(r.useContext)(d),t=e.addTrainingGroup,n=e.updateTrainingGroup,a=e.clearCurrent,c=e.current;Object(r.useEffect)((function(){o(null!==c?c:{trainingGroup:""})}),[e,c]);var i=Object(r.useState)({trainingGroup:""}),s=Object(g.a)(i,2),l=s[0],o=s[1],u=l.trainingGroup;return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===u?S.a.toast({html:"Bitte eine Gruppenbezeichnung eingeben",classes:"kentai-color",displayLength:1500}):null===c?t(l):n(l)},children:[Object(j.jsx)("h2",{className:"text-dark large",children:c?"Trainingsgruppe \xe4ndern":"Trainingsgruppe hinzuf\xfcgen"}),Object(j.jsx)("input",{type:"text",placeholder:"Trainingsgruppe",name:"trainingGroup",value:u,onChange:function(e){return o(Object(y.a)(Object(y.a)({},l),{},Object(z.a)({},e.target.name,e.target.value)))}}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"submit",value:c?"Trainingsgruppe aktualisieren":"Trainingsgruppe hinzuf\xfcgen",className:"btn btn-dark btn-block"})}),c&&Object(j.jsxs)("div",{children:[Object(j.jsx)("a",{href:"#clear-modal-group",className:"btn btn-danger btn-block modal-trigger",children:"L\xf6schen"}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"btn btn-light btn-block",onClick:a,children:"Formular leeren"})}),Object(j.jsx)("br",{})]})]})},ce=function(){var e=Object(r.useContext)(u).role,t=Object(r.useContext)(d),n=t.filterTrainingGroups,a=t.clearFilter,c=t.filtered,i=Object(r.useRef)("");Object(r.useEffect)((function(){null===c&&"admin"===e&&(i.current.value="")}));return Object(j.jsx)("form",{children:Object(j.jsx)("input",{ref:i,type:"text",placeholder:"Suche Trainingsgruppe...",onChange:function(e){""!==i.current.value?n(e.target.value):a()}})})},ie=function(e){var t=Object(r.useContext)(u),n=t.role;Object(r.useEffect)((function(){t.loadMember()}),[]);var a=0;return"admin"!==n&&"superUser"!==n||(a=3),Object(j.jsxs)("div",{className:"grid-".concat(a),children:[Object(j.jsxs)("div",{className:"fixed",children:[("admin"===n||"superUser"===n)&&Object(j.jsx)(ae,{}),("admin"===n||"superUser"===n)&&Object(j.jsx)(ce,{}),Object(j.jsx)("br",{})]}),Object(j.jsx)("div",{className:"card-grid-2 card-grid-3",children:("admin"===n||"superUser"===n)&&Object(j.jsx)(re,{})})]})},se=function(){var e=Object(r.useContext)(d).getTrainingGroups,t=Object(r.useContext)(C),n=t.members,a=t.getMembers,c=t.loading;return Object(r.useEffect)((function(){e(),a()}),[]),!c&&null!==n&&n.filter((function(e){return"admin"===e.role||"trainer"===e.role})).map((function(e){return Object(j.jsx)("option",{value:e._id,children:e.name},e._id)}))},le=function(){var e=Object(r.useContext)(d)._id,t=Object(r.useContext)(b),n=t.addTrainingSession,a=t.updateTrainingSession,c=t.clearCurrent,i=t.current;Object(r.useEffect)((function(){u(null!==i?i:{trainingGroup:"",description:"",trainer:"",time:"",timeTo:"",date:"",maxMembers:"",memberCount:"",members:[]})}),[t,i]);var s=Object(r.useState)({trainingGroup:"",description:"",trainer:"",time:"",timeTo:"",date:"",maxMembers:"",memberCount:"",members:[]}),l=Object(g.a)(s,2),o=l[0],u=l[1],m=o.trainingGroup,p=o.description,O=o.trainer,h=o.time,f=o.timeTo,x=o.date,v=o.maxMembers,N=function(e){return u(Object(y.a)(Object(y.a)({},o),{},Object(z.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===m?S.a.toast({html:"Bitte Trainingsgruppe eingeben",className:"kentai-color",displayLength:1500}):""===p?S.a.toast({html:"Bitte Beschreibung eingeben",className:"kentai-color",displayLength:1500}):""===O?S.a.toast({html:"Bitte Trainer eingeben",classes:"kentai-color",displayLength:1500}):""===x?S.a.toast({html:"Bitte Datum eingeben",classes:"kentai-color",displayLength:1500}):""===h?S.a.toast({html:"Bitte Zeit eingeben",classes:"kentai-color",displayLength:1500}):null===i?n(o):a(o)},children:[Object(j.jsx)("h2",{className:"text-dark large",children:i?"Trainingseinheit \xe4ndern":"Trainingseinheit hinzuf\xfcgen"}),Object(j.jsx)("div",{className:"input-field",children:Object(j.jsxs)("select",{name:"trainingGroup",value:e,className:"browser-default",onChange:N,children:[Object(j.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Trainingsgruppe..."}),Object(j.jsx)(P,{})]},e)}),Object(j.jsx)("input",{type:"text",placeholder:"Beschreibung",name:"description",value:p,onChange:N}),Object(j.jsx)("div",{className:"input-field",children:Object(j.jsxs)("select",{name:"trainer",value:e,className:"browser-default",onChange:N,children:[Object(j.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Trainer..."}),Object(j.jsx)(se,{})]},e)}),"von: ",Object(j.jsx)("input",{type:"time",placeholder:"",name:"time",value:h,onChange:N}),"bis: ",Object(j.jsx)("input",{type:"time",placeholder:"",name:"timeTo",value:f,onChange:N}),Object(j.jsx)("input",{type:"date",placeholder:"",name:"date",value:x,onChange:N}),"Teilnehmer zugelassen: ",Object(j.jsx)("input",{type:"number",placeholder:"0",name:"maxMembers",value:v,onChange:N}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"submit",value:i?"Trainingseinheit aktualisieren":"Trainingseinheit hinzuf\xfcgen",className:"btn btn-dark btn-block"})}),i&&Object(j.jsxs)("div",{children:[Object(j.jsx)("a",{href:"#clear-modal-session",className:"btn btn-danger btn-block modal-trigger",children:"L\xf6schen"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{className:"btn btn-light btn-block",onClick:function(){c()},children:"Formular leeren"})]})]})},oe=function(e){var t=Object(r.useContext)(u),n=t.role;Object(r.useEffect)((function(){t.loadMember()}),[]);var a=0;return"admin"!==n&&"superUser"!==n||(a=3),Object(j.jsxs)("div",{className:"grid-".concat(a),children:[Object(j.jsxs)("div",{className:"fixed",children:[("admin"===n||"superUser"===n)&&Object(j.jsx)(le,{}),Object(j.jsx)("br",{}),("admin"===n||"superUser"===n)&&Object(j.jsx)(D,{})]}),Object(j.jsx)("div",{className:"card-grid-2 card-grid-3",children:("admin"===n||"superUser"===n)&&Object(j.jsx)(G,{})})]})};k.a.globalLocale="de";var ue=function(e){var t=e.session,n=Object(r.useContext)(u),a=n.role,c=n.loading,i=Object(r.useContext)(b),s=i.getTrainingSessions,l=i.deleteTrainingSession,o=i.clearCurrent,m=Object(r.useContext)(d),p=m.trainingGroup,O=m.getTrainingGroups,h=Object(r.useContext)(C),x=h.getMembers,v=t._id,y=t.description,N=t.maxMembers,w=t.memberCount,S=t.members,T=t.time,_=t.timeTo,E=t.date,M=[];p&&(M=p.filter((function(e){return e._id===t.trainingGroup})));var G,A,R=Object(r.useState)(!1),D=Object(g.a)(R,2),L=(D[0],D[1]);if(Object(r.useEffect)((function(){void 0!==t.members.find((function(e){return e===n.member._id}))&&(console.log(S.find((function(e){return e===n.member._id}))),L(!0))}),[x,O,s,t.members,n.member._id,S]),h.members){var U=Object(f.a)(h.members.filter((function(e){return e.familyMember.length>0})).map((function(e){return e.familyMember})).flat(1)).filter((function(e){return t.members.includes(e._id)}));G=[].concat(Object(f.a)(h.members.filter((function(e){return t.members.includes(e._id)}))),Object(f.a)(U))}return h.members&&t.trainer&&(A=h.members.filter((function(e){return e._id===t.trainer}))),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"card bg-light card-content",children:[Object(j.jsxs)("h3",{className:"text-primary text-left large",children:[y," "]}),Object(j.jsxs)("ul",{className:"list",children:[p&&M[0].trainingGroup&&!c&&Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{})," Trainingsgruppe: ",M[0].trainingGroup]}),h.members&&A&&!c&&Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{})," Trainer: ",A[0].name]}),T&&Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{})," Zeit: ",Object(j.jsx)("time",{format:"h:mm:ss",children:T}),_&&Object(j.jsx)("time",{format:"h:mm:ss",children:" - ".concat(_)})]}),E&&Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{})," Datum: ",Object(j.jsx)(k.a,{format:"Do MMMM YYYY",children:E})]}),N&&Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{})," Maximale Teilnehmer: ",N]}),w&&Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{})," Angemeldete Teilnehmer: ",w]}),("admin"===a||"superUser"===a)&&G&&Object(j.jsxs)("div",{children:[Object(j.jsx)("i",{class:"fa fa-user"})," ",Object(j.jsx)("bold",{children:"Teilnehmer:"})," ",Object(j.jsx)("br",{}),G.map((function(e){return e.name})).join(", ")]})]}),("admin"===a||"superUser"===a)&&Object(j.jsx)("p",{children:Object(j.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){l(v),o()},children:"L\xf6schen"})})]})})},de=n(65),be=n(41),je=function(e){var t=e.csvData,n=e.fileName;return Object(j.jsx)("button",{className:"btn btn-dark btn-sm",variant:"warning",onClick:function(e){return function(e,t){var n={Sheets:{data:be.utils.json_to_sheet(e)},SheetNames:["data"]},r=be.write(n,{bookType:"xlsx",type:"array"}),a=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});de.saveAs(a,t+".xlsx")}(t,n)},children:"Exportiere Liste"})};k.a.globalLocale="de";var me=function(){var e=Object(r.useContext)(u).role,t=Object(r.useContext)(b),n=t.trainingSessions,a=t.loading,c=Object(r.useContext)(C),i=M()(Date.now()).format("YYYY-MM-DD"),s=[];!n||"admin"!==e&&"superUser"!==e||(s=n.filter((function(e){return e.date<M()(Date.now()).format("YYYY-MM-DD")})));var l=[{Datum:"",Zeit:"",Trainer:"",Trainingseinheit:"",Teilnehmer:""}];return!n||"admin"!==e&&"superUser"!==e||(l=n.filter((function(e){return e.date<M()(Date.now()).format("YYYY-MM-DD")})).map((function(e){var t,n,r;if(c.members){t=Object(f.a)(new Set(c.members.filter((function(t){return e.members.includes(t._id)})))).map((function(e){return e.name})).join(", ");var a=c.members.filter((function(t){return t._id===e.trainer}));a[0]&&(n=a[0].name),r=void 0!==e.timeTo?e.time+" - "+e.timeTo:e.time}return{Datum:M()(e.date).format("DD.MMMM.YYYY"),Zeit:r,Trainingseinheit:e.description,Trainer:n,Teilnehmer:t}}))),Object(j.jsxs)(r.Fragment,{children:[Object(j.jsx)(je,{csvData:l,fileName:"Trainingseinheiten-Export_".concat(i)}),null===s||"admin"!==e&&"superUser"!==e||a?Object(j.jsx)(_,{}):Object(j.jsx)(x.a,{children:s.map((function(e){return Object(j.jsx)(v.a,{timeout:300,classNames:"item",children:Object(j.jsx)(ue,{session:e})},e._id)}))})]})},pe=function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"\xdcber diese App"}),Object(j.jsx)("p",{className:"my-1",children:"Plane deine Trainingseinheiten mit deinen Freunden"}),Object(j.jsxs)("p",{className:"bg-dark p",children:[Object(j.jsx)("strong",{children:"Version: "}),"1.0.0"]})]})},Oe=function(e){var t=Object(r.useContext)(X),n=Object(r.useContext)(u),a=t.setAlert,c=n.register,i=n.error,s=n.clearErrors,l=n.isAuthenticated;Object(r.useEffect)((function(){l&&e.history.push("/"),i&&(a(i,"danger"),s())}),[i,l,e.history]);var o=Object(r.useState)({name:"",email:"",password:"",password2:""}),d=Object(g.a)(o,2),b=d[0],m=d[1],p=b.name,O=b.email,h=b.password,f=b.password2,x=function(e){return m(Object(y.a)(Object(y.a)({},b),{},Object(z.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)("div",{className:"form-container",children:[Object(j.jsx)("h1",{className:"text-dark x-large",children:"Konto registrieren"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===p||""===O||""===h?a("Bitte alle Felder ausf\xfcllen","dark"):h!==f?a("Die Passworteingaben stimmen nicht \xfcbereinander","dark"):c({name:p,email:O,password:h})},children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"name",children:"Name"}),Object(j.jsx)("input",{type:"text",name:"name",value:p,onChange:x})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"email",children:"E-Mail Adresse"}),Object(j.jsx)("input",{type:"email",name:"email",value:O,onChange:x})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"password",children:"Passwort (Mindestens 8 Zeichen inklusive Gro\xdf- und Kleinbuchstaben, Zahlen und Sonderzeichen)"}),Object(j.jsx)("input",{type:"password",name:"password",value:h,onChange:x})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"password2",children:"Passwort best\xe4tigen"}),Object(j.jsx)("input",{type:"password",name:"password2",value:f,onChange:x})]}),Object(j.jsx)("input",{type:"submit",value:"Registrieren",className:"btn btn-dark btn-block"})]})]})},he=function(e){var t=Object(r.useContext)(X),n=Object(r.useContext)(u),a=t.setAlert,c=n.login,i=n.error,l=n.clearErrors,o=n.isAuthenticated;Object(r.useEffect)((function(){o&&e.history.push("/"),i&&(a(i,"danger"),l())}),[i,o,e.history]);var d=Object(r.useState)({email:"",password:""}),b=Object(g.a)(d,2),m=b[0],p=b[1],O=m.email,h=m.password,f=function(e){return p(Object(y.a)(Object(y.a)({},m),{},Object(z.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)("div",{className:"form-container",children:[Object(j.jsx)("h1",{children:Object(j.jsx)("span",{className:"text-dark large",children:"Login"})}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===O||""===h?a("Bitte E-Mail Adresse und Passwort eingeben","danger"):c({email:O,password:h})},children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"email",children:"E-Mail Adresse"}),Object(j.jsx)("input",{type:"email",name:"email",value:O,onChange:f})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"password",children:"Passwort"}),Object(j.jsx)("input",{type:"password",name:"password",value:h,onChange:f})]}),Object(j.jsx)("input",{type:"submit",value:"Login",className:"btn btn-dark btn-block"})]}),Object(j.jsx)("li",{children:Object(j.jsx)(s.b,{to:"/resetPassword",children:Object(j.jsx)("span",{className:"text-dark small",children:"Passwort zur\xfccksetzen"})})})]})},fe=function(){var e=Object(r.useContext)(X);return e.alerts.length>0&&e.alerts.map((function(e){return Object(j.jsxs)("div",{className:"alert alert-".concat(e.type),children:[Object(j.jsx)("i",{className:"fas fa-info-circle"})," ",e.msg]},e.id)}))},ge=function(){var e=Object(r.useContext)(X).setAlert,t=Object(r.useContext)(C),n=t.updateMember,a=t.current,c=t.clearCurrent,i=Object(r.useContext)(d),s=i.trainingGroup,l=i.getTrainingGroups,o=i.updateTrainingGroup,u=Object(r.useState)(!1),b=Object(g.a)(u,2),m=b[0],p=b[1];Object(r.useEffect)((function(){null!==a?("none"===a.role&&p(!0),v(a)):v({name:"",email:"",role:"",trainingGroup:[],trainingSessions:[]}),l()}),[t,a]);var O=Object(r.useState)({name:"",email:"",role:"",trainingGroup:[],trainingSessions:[],familyMember:[]}),h=Object(g.a)(O,2),x=h[0],v=h[1],y=x.name,N=x.email,k=Object(r.useState)(!1),w=Object(g.a)(k,2),S=w[0];w[1];return Object(j.jsx)("div",{id:"trainingGroup-list-modal",className:"modal",children:Object(j.jsxs)("div",{className:"modal-content",children:[Object(j.jsx)("h4",{children:"Trainingsgruppen"}),Object(j.jsx)("ul",{className:"collection",children:Object(j.jsx)(r.Fragment,{children:s&&s.map((function(e,t){return Object(j.jsx)("p",{id:e._id,children:Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{type:"checkbox",className:"filled-in",name:e._id,value:e._id,checked:x.trainingGroup.includes(e._id),onChange:function(t){return function(e,t){null!==a&&(x.trainingGroup.includes(t)?v({trainingGroup:x.trainingGroup.filter((function(e){return e!==t}))}):(v({trainingGroup:[].concat(Object(f.a)(x.trainingGroup),[e.target.value])}),console.log(s)))}(t,e._id)}},e._id),Object(j.jsx)("span",{children:e.trainingGroup})]})},e._id)}))})}),Object(j.jsx)("div",{className:"modal-footer",children:Object(j.jsx)("a",{href:"#!",onClick:function(t){if(t.preventDefault(),""===N)e("Bitte eine g\xfcltige E-Mail Adresse eingeben","danger");else{a.role=!0===S?"none":"member";var r={_id:a._id,name:y,email:a.email,role:a.role,trainingGroup:x.trainingGroup,date:new Date};"member"!==a.role&&"trainer"!==a.role||!0!==m||(r.sendMail=!0),n(r),p(!1),s.map((function(e){""!=x.trainingGroup.filter((function(t){return t===e._id}))?(console.log("add: "+x.trainingGroup.filter((function(t){return t===e._id}))),o({_id:e._id,members:[].concat(Object(f.a)(e.members),[a._id])})):(console.log("filter member in traininggroup",a),o({_id:e._id,members:e.members.filter((function(e){return e!==a._id}))}))}))}v({name:"",email:"",role:"",trainingGroup:[],trainingSessions:[]}),c()},className:"modal-close waves-effect waves-kentai btn",children:"Best\xe4tigung"})})]})})},xe=function(){var e=Object(r.useContext)(C),t=e.current,n=e.deleteMember,a=e.clearCurrent,c=(e.getMembers,Object(r.useContext)(d)),i=(c.trainingGroup,c.getTrainingGroups);c.updateTrainingGroup;Object(r.useEffect)((function(){o(null!==t?t:{name:"",email:"",role:"",trainingGroup:[],trainingSessions:[]}),i()}),[e,t]);var s=Object(r.useState)({name:"",email:"",role:"",trainingGroup:[],trainingSessions:[]}),l=Object(g.a)(s,2),o=(l[0],l[1]);return Object(j.jsx)("div",{id:"clear-modal-member",className:"modal",children:Object(j.jsxs)("div",{className:"modal-content",children:[t&&Object(j.jsxs)("h5",{children:[Object(j.jsx)("span",{className:"text-bold",children:t.name})," wirklich l\xf6schen?"]}),Object(j.jsxs)("div",{className:"modal-footer",children:[Object(j.jsx)("a",{href:"#!",onClick:function(){n(t._id),a(),window.location.reload()},className:"modal-close btn btn-danger btn-sm btn",children:"L\xf6schen"})," "," ",Object(j.jsx)("a",{href:"#!",className:"modal-close btn btn-dark btn-sm btn",children:"Abbrechen"})]})]})})},ve=function(){var e=Object(r.useContext)(d),t=e.deleteTrainingGroup,n=e.current,a=e.clearCurrent,c=Object(r.useContext)(b).trainingSessions;Object(r.useEffect)((function(){o(null!==n?n:{trainingGroup:""})}),[e,n]);var i=Object(r.useState)({trainingGroup:""}),s=Object(g.a)(i,2),l=s[0],o=s[1],u=l._id;return Object(j.jsx)("div",{id:"clear-modal-group",className:"modal",children:Object(j.jsxs)("div",{className:"modal-content",children:[n&&Object(j.jsxs)("h5",{children:[Object(j.jsx)("span",{className:"text-bold",children:n.trainingGroup})," wirklich l\xf6schen?"]}),Object(j.jsxs)("div",{className:"modal-footer",children:[Object(j.jsx)("a",{href:"#!",onClick:function(){var e;c?void 0!==(null===(e=c.filter((function(e){return e.trainingGroup===u}))[0])||void 0===e?void 0:e.trainingGroup)&&S.a.toast({html:"Bitte erst alle Traininingseinheiten f\xfcr die Gruppe l\xf6schen",classes:"kentai-color",displayLength:1500}):(t(u),a())},className:"modal-close btn btn-danger btn-sm btn",children:"L\xf6schen"})," "," ",Object(j.jsx)("a",{href:"#!",className:"modal-close btn btn-dark btn-sm btn",children:"Abbrechen"})]})]})})},ye=function(e){e.session;var t=Object(r.useContext)(b),n=t.deleteTrainingSession,a=t.clearCurrent,c=t.current;return Object(j.jsx)("div",{id:"clear-modal-session",className:"modal",children:Object(j.jsxs)("div",{className:"modal-content",children:[c&&Object(j.jsxs)("h5",{children:[Object(j.jsx)("span",{className:"text-bold",children:c.description})," wirklich l\xf6schen?"]}),Object(j.jsxs)("div",{className:"modal-footer",children:[Object(j.jsx)("a",{href:"#!",onClick:function(){n(c._id),a()},className:"modal-close btn btn-danger btn-sm btn",children:"L\xf6schen"})," "," ",Object(j.jsx)("a",{href:"#!",className:"modal-close btn btn-dark btn-sm btn",children:"Abbrechen"})]})]})})},Ne=function(){var e=Object(r.useContext)(W),t=e.current,n=e.deleteEmail,a=e.clearCurrent;e.getEmails;Object(r.useEffect)((function(){s(null!==t?t:{trainingGroup:"",subject:"",message:""})}),[e,t]);var c=Object(r.useState)({name:"",email:"",role:"",trainingGroup:[],trainingSessions:[]}),i=Object(g.a)(c,2),s=(i[0],i[1]);return Object(j.jsx)("div",{id:"clear-modal-email",className:"modal",children:Object(j.jsxs)("div",{className:"modal-content",children:[t&&Object(j.jsx)("h5",{children:"Email wirklich l\xf6schen?"}),Object(j.jsxs)("div",{className:"modal-footer",children:[Object(j.jsx)("a",{href:"#!",onClick:function(){n(t._id),a(),window.location.reload()},className:"modal-close btn btn-danger btn-sm btn",children:"L\xf6schen"})," "," ",Object(j.jsx)("a",{href:"#!",className:"modal-close btn btn-dark btn-sm btn",children:"Abbrechen"})]})]})})},ke=function(e){var t=Object(r.useContext)(X),n=Object(r.useContext)(u),a=t.setAlert,c=n.resetPassword,i=(n.error,n.clearErrors,Object(l.g)()),s=Object(r.useState)({name:"",email:"",password:"",password2:""}),o=Object(g.a)(s,2),d=o[0],b=o[1],m=d.email;return Object(j.jsxs)("div",{className:"form-container",children:[Object(j.jsx)("p",{className:"text-dark large",children:"Gib deine E-Mail Adresse zum Zur\xfccksetzen des Passworts ein:"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===m?a("Bitte gib deine E-Mail Adresse ein","dark"):(c({email:m}),a("Wir haben dir eine Mail zum Zur\xfccksetzen des Passworts zugesendet","dark"),i.push("/login"))},children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"email",children:"E-Mail Adresse"}),Object(j.jsx)("input",{type:"email",name:"email",value:m,onChange:function(e){return b(Object(y.a)(Object(y.a)({},d),{},Object(z.a)({},e.target.name,e.target.value)))}})]}),Object(j.jsx)("input",{type:"submit",value:"Abschicken",className:"btn btn-dark btn-block"})]})]})},Ce=function(e){var t=Object(r.useContext)(X),n=Object(r.useContext)(u),a=t.setAlert,c=(n.resetPassword,n.newPassword),i=(n.error,n.clearErrors,Object(l.g)()),s=Object(r.useState)({name:"",email:"",password:"",password2:""}),o=Object(g.a)(s,2),d=o[0],b=o[1],m=e.location.search.split("&")[0].split("=")[1],p=e.location.search.split("&")[1].split("=")[1];console.log("this id",p),console.log("this token",m);var O=d.password,h=d.password2,f=function(e){return b(Object(y.a)(Object(y.a)({},d),{},Object(z.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)("div",{className:"form-container",children:[Object(j.jsx)("h1",{className:"text-dark x-large",children:"Neues Passwort eingeben:"}),Object(j.jsxs)("form",{onSubmit:function(e){(e.preventDefault(),O!==h)?a("Die Passworteingaben stimmen nicht \xfcbereinander","dark"):(c({data:{id:p,token:m,password:O}}),a("Du hast dein Passwort erfolgreich zur\xfcckgesetzt","dark"),i.push("/login"))},children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"password",children:"Passwort (Mindestens 8 Zeichen inklusive Gro\xdf- und Kleinbuchstaben, Zahlen und Sonderzeichen)"}),Object(j.jsx)("input",{type:"password",name:"password",value:O,onChange:f})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"password2",children:"Passwort best\xe4tigen"}),Object(j.jsx)("input",{type:"password",name:"password2",value:h,onChange:f})]}),Object(j.jsx)("input",{type:"submit",value:"Passwort speichern",className:"btn btn-dark btn-block"})]})]})},we=n(66),Se=["component"],Te=function(e){var t=e.component,n=Object(we.a)(e,Se),a=Object(r.useContext)(u),c=a.isAuthenticated,i=a.loading;return Object(j.jsx)(l.b,Object(y.a)(Object(y.a)({},n),{},{render:function(e){return c||i?Object(j.jsx)(t,Object(y.a)({},e)):Object(j.jsx)(l.a,{to:"/login"})}}))},_e=(n(119),n(7)),Ee=n.n(_e),Me="GET_TRAININGGROUPS",Ge="ADD_TRAININGGROUP",Ae="UPDATE_TRAININGGROUP",Re="FILTER_TRAININGGROUPS",De="CLEAR_TRAININGGROUPS",Le="DELETE_TRAININGGROUP",Ue="GET_MEMBERS",Ie="ADD_MEMBER",Pe="UPDATE_MEMBER",Fe="FILTER_MEMBERS",Ye="CLEAR_MEMBERS",Be="DELETE_MEMBER",ze="GET_EMAILS",We="ADD_EMAIL",Ke="UPDATE_EMAIL",Ze="FILTER_EMAILS",Je="CLEAR_EMAILS",qe="DELETE_EMAIL",Ve="GET_TRAININGSESSIONS",He="ADD_TRAININGSESSION",Qe="UPDATE_TRAININGSESSION",Xe="FILTER_TRAININGSESSIONS",$e="CLEAR_TRAININGSESSIONS",et="DELETE_TRAININGSESSION",tt="SET_CURRENT",nt="TRAININGSESSION_ERROR",rt="TRAININGGROUP_ERROR",at="MEMBER_ERROR",ct="EMAIL_ERROR",it="CLEAR_CURRENT",st="CLEAR_ERRORS",lt="CLEAR_FILTER",ot="SET_ALERT",ut="REMOVE_ALERT",dt="REGISTER_SUCCESS_ALERT",bt="REGISTER_FAIL",jt="RESET_PASSWORD",mt="NEW_PASSWORD",pt="MEMBER_LOADED",Ot="AUTH_ERROR",ht="LOGIN_SUCCESS",ft="LOGIN_FAIL",gt="LOGOUT",xt=function(e,t){switch(t.type){case Me:return Object(y.a)(Object(y.a)({},e),{},{trainingGroup:t.payload,loading:!1});case Ge:return Object(y.a)(Object(y.a)({},e),{},{trainingGroup:[t.payload].concat(Object(f.a)(e.trainingGroup)),loading:!1});case Ae:return Object(y.a)(Object(y.a)({},e),{},{trainingGroup:e.trainingGroup.map((function(e){return e._id===t.payload._id?t.payload:e})),loading:!1});case Le:return Object(y.a)(Object(y.a)({},e),{},{trainingGroup:e.trainingGroup.filter((function(e){return e._id!==t.payload})),loading:!1});case De:return Object(y.a)(Object(y.a)({},e),{},{trainingGroup:null,filtered:null,error:null,current:null});case tt:return Object(y.a)(Object(y.a)({},e),{},{current:t.payload});case it:return Object(y.a)(Object(y.a)({},e),{},{current:null});case Re:return Object(y.a)(Object(y.a)({},e),{},{filtered:e.trainingGroup.filter((function(e){var n=new RegExp("".concat(t.payload),"gi");return e.trainingGroup.match(n)}))});case lt:return Object(y.a)(Object(y.a)({},e),{},{filtered:null});case rt:return Object(y.a)(Object(y.a)({},e),{},{error:t.payload});default:return e}},vt=function(e){var t=Object(r.useReducer)(xt,{trainingGroup:null,current:null,filtered:null,error:null}),n=Object(g.a)(t,2),a=n[0],c=n[1],i=function(){var e=Object(I.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.a.get("/api/training-group");case 3:t=e.sent,c({type:Me,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c({type:rt,payload:e.t0.response.msg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(I.a)(U.a.mark((function e(t){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,Ee.a.post("/api/training-group",t,n);case 4:r=e.sent,c({type:Ge,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({type:rt,payload:e.t0.response.msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(I.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.a.delete("/api/training-group/".concat(t));case 3:c({type:Le,payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c({type:rt,payload:e.t0.response.msg});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(I.a)(U.a.mark((function e(t){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,Ee.a.put("/api/training-group/".concat(t._id),t,n);case 4:r=e.sent,c({type:Ae,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({type:rt,payload:e.t0.response.msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(d.Provider,{value:{trainingGroup:a.trainingGroup,current:a.current,filtered:a.filtered,error:a.error,addTrainingGroup:s,deleteTrainingGroup:l,setCurrent:function(e){c({type:tt,payload:e})},clearCurrent:function(){c({type:it})},updateTrainingGroup:o,filterTrainingGroups:function(e){c({type:Re,payload:e})},clearFilter:function(){c({type:lt})},getTrainingGroups:i,clearTrainingGroups:function(){c({type:De})}},children:e.children})},yt=function(e,t){switch(t.type){case Ve:return Object(y.a)(Object(y.a)({},e),{},{trainingSessions:t.payload,loading:!1});case He:return Object(y.a)(Object(y.a)({},e),{},{trainingSessions:[t.payload].concat(Object(f.a)(e.trainingSessions)),loading:!1});case Qe:return Object(y.a)(Object(y.a)({},e),{},{trainingSessions:e.trainingSessions.map((function(e){return e._id===t.payload._id?t.payload:e})),loading:!1});case et:return Object(y.a)(Object(y.a)({},e),{},{trainingSessions:e.trainingSessions.filter((function(e){return e._id!==t.payload})),loading:!1});case $e:return Object(y.a)(Object(y.a)({},e),{},{trainingSessions:null,filtered:null,error:null,current:null});case tt:return Object(y.a)(Object(y.a)({},e),{},{current:t.payload});case it:return Object(y.a)(Object(y.a)({},e),{},{current:null});case Xe:return Object(y.a)(Object(y.a)({},e),{},{filtered:e.trainingSessions.filter((function(e){var n=new RegExp("".concat(t.payload),"gi");return e.description.match(n)||e.date.match(n)}))});case lt:return Object(y.a)(Object(y.a)({},e),{},{filtered:null});case nt:return Object(y.a)(Object(y.a)({},e),{},{error:t.payload});default:return e}},Nt=function(e){var t=Object(r.useReducer)(yt,{trainingSessions:null,current:null,filtered:null,error:null}),n=Object(g.a)(t,2),a=n[0],c=n[1],i=function(){var e=Object(I.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.a.get("/api/training-session");case 3:t=e.sent,console.log("sessions",t.data),c({type:Ve,payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c({type:nt});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(I.a)(U.a.mark((function e(t){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,Ee.a.post("/api/training-session",t,n);case 4:r=e.sent,c({type:He,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({type:nt,payload:e.t0.response.msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(I.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.a.delete("/api/training-session/".concat(t));case 3:c({type:et,payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c({type:nt,payload:e.t0.response.msg});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(I.a)(U.a.mark((function e(t){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,Ee.a.put("/api/training-session/".concat(t._id),t,n);case 4:r=e.sent,c({type:Qe,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({type:nt});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(b.Provider,{value:{trainingSessions:a.trainingSessions,current:a.current,filtered:a.filtered,error:a.error,addTrainingSession:s,deleteTrainingSession:l,setCurrent:function(e){c({type:tt,payload:e})},clearCurrent:function(){c({type:it})},updateTrainingSession:o,filterTrainingSessions:function(e){c({type:Xe,payload:e})},clearFilter:function(){c({type:lt})},getTrainingSessions:i,clearTrainingSessions:function(){c({type:$e})}},children:e.children})},kt=function(e,t){switch(t.type){case Ue:return Object(y.a)(Object(y.a)({},e),{},{members:t.payload,loading:!1});case Ie:return Object(y.a)(Object(y.a)({},e),{},{members:[t.payload].concat(Object(f.a)(e.members)),loading:!1});case Pe:return Object(y.a)(Object(y.a)({},e),{},{members:e.members.map((function(e){return e._id===t.payload._id?t.payload:e})),loading:!1});case Be:return Object(y.a)(Object(y.a)({},e),{},{members:e.members.filter((function(e){return e._id!==t.payload})),loading:!1});case Ye:return Object(y.a)(Object(y.a)({},e),{},{members:null,filtered:null,error:null,current:null});case tt:return Object(y.a)(Object(y.a)({},e),{},{current:t.payload});case it:return Object(y.a)(Object(y.a)({},e),{},{current:null});case Fe:return Object(y.a)(Object(y.a)({},e),{},{filtered:e.members.filter((function(e){var n=new RegExp("".concat(t.payload),"gi");return e.name.match(n)}))});case lt:return Object(y.a)(Object(y.a)({},e),{},{filtered:null});case at:return Object(y.a)(Object(y.a)({},e),{},{error:t.payload});default:return e}},Ct=function(e){var t=Object(r.useReducer)(kt,{members:null,current:null,filtered:null,error:null}),n=Object(g.a)(t,2),a=n[0],c=n[1],i=function(){var e=Object(I.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.a.get("/api/member");case 3:t=e.sent,c({type:Ue,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c({type:at,payload:e.t0.response.msg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(I.a)(U.a.mark((function e(t){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,Ee.a.post("/api/member",t,n);case 4:r=e.sent,console.log(r.data),c({type:Ie,payload:r.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),c({type:at,payload:e.t0.response.msg});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(I.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.a.delete("/api/member/".concat(t));case 3:c({type:Be,payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c({type:at,payload:e.t0.response.msg});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(I.a)(U.a.mark((function e(t){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,Ee.a.put("/api/member/".concat(t._id),t,n);case 4:r=e.sent,c({type:Pe,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({type:at,payload:e.t0.response.msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(C.Provider,{value:{members:a.members,current:a.current,filtered:a.filtered,error:a.error,addMember:s,deleteMember:l,setCurrent:function(e){console.log(e),c({type:tt,payload:e})},clearCurrent:function(){c({type:it})},updateMember:o,filterMembers:function(e){c({type:Fe,payload:e})},clearFilter:function(){c({type:lt})},getMembers:i,clearMembers:function(){c({type:Ye})}},children:e.children})},wt=function(e,t){switch(t.type){case ze:return console.log("payload",t.payload),Object(y.a)(Object(y.a)({},e),{},{emails:t.payload,loading:!1});case We:return console.log("add state mail",t.payload),Object(y.a)(Object(y.a)({},e),{},{emails:[t.payload].concat(Object(f.a)(e.emails)),loading:!1});case Ke:return Object(y.a)(Object(y.a)({},e),{},{emails:e.emails.map((function(e){return e._id===t.payload._id?t.payload:e})),loading:!1});case qe:return Object(y.a)(Object(y.a)({},e),{},{emails:e.emails.filter((function(e){return e._id!==t.payload})),loading:!1});case Je:return Object(y.a)(Object(y.a)({},e),{},{emails:null,filtered:null,error:null,current:null});case tt:return Object(y.a)(Object(y.a)({},e),{},{current:t.payload});case it:return Object(y.a)(Object(y.a)({},e),{},{current:null});case Ze:return Object(y.a)(Object(y.a)({},e),{},{filtered:e.emails.filter((function(e){var n=new RegExp("".concat(t.payload),"gi");return e.name.match(n)}))});case lt:return Object(y.a)(Object(y.a)({},e),{},{filtered:null});case ct:return Object(y.a)(Object(y.a)({},e),{},{error:t.payload});default:return e}},St=function(e){var t=Object(r.useReducer)(wt,{emails:[],current:null,filtered:null,error:null}),n=Object(g.a)(t,2),a=n[0],c=n[1],i=function(){var e=Object(I.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.a.get("/api/email");case 3:t=e.sent,console.log("get res",t),c({type:ze,payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c({type:ct,payload:e.t0.response.msg});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(I.a)(U.a.mark((function e(t){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},console.log("email",t),e.prev=2,e.next=5,Ee.a.post("/api/email",t,n);case 5:r=e.sent,console.log("result",r.data),c({type:We,payload:r.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),c({type:ct,payload:e.t0.response.msg});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(I.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.a.delete("/api/email/".concat(t));case 3:c({type:qe,payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c({type:ct,payload:e.t0.response.msg});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(I.a)(U.a.mark((function e(t){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,Ee.a.put("/api/email/".concat(t._id),t,n);case 4:r=e.sent,c({type:Ke,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({type:ct,payload:e.t0.response.msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(W.Provider,{value:{emails:a.emails,current:a.current,filtered:a.filtered,error:a.error,addEmail:s,deleteEmail:l,setCurrent:function(e){console.log("state",e),c({type:tt,payload:e})},clearCurrent:function(){c({type:it})},updateEmail:o,filterEmails:function(e){c({type:Ze,payload:e})},clearFilter:function(){c({type:lt})},getEmails:i,clearEmails:function(){c({type:Je})}},children:e.children})},Tt=function(e,t){switch(t.type){case pt:return Object(y.a)(Object(y.a)({},e),{},{isAuthenticated:!0,loading:!1,member:t.payload,role:t.payload.role});case dt:case jt:case mt:case ht:return localStorage.setItem("token",t.payload.token),Object(y.a)(Object(y.a)(Object(y.a)({},e),t.payload),{},{isAuthenticated:!0,loading:!1});case bt:case Ot:case ft:case gt:return localStorage.removeItem("token"),console.log(t.payload),Object(y.a)(Object(y.a)({},e),{},{token:null,isAuthenticated:null,loading:!1,member:null,role:null,error:t.payload});case st:return Object(y.a)(Object(y.a)({},e),{},{error:null});default:return e}},_t=function(e){e?Ee.a.defaults.headers.common["x-auth-token"]=e:delete Ee.a.defaults.headers.common["x-auth-token"]},Et=function(e){var t={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,member:null,role:null,error:null},n=Object(r.useReducer)(Tt,t),a=Object(g.a)(n,2),c=a[0],i=a[1],s=function(){var e=Object(I.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&_t(localStorage.token),e.prev=1,e.next=4,Ee.a.get("/api/auth");case 4:t=e.sent,i({type:pt,payload:t.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),i({type:Ot});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(I.a)(U.a.mark((function e(t){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,Ee.a.post("/api/member",t,n);case 4:r=e.sent,i({type:dt,payload:r.data}),s(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response.data.msg),i({type:bt,payload:e.t0.response.data.msg});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(I.a)(U.a.mark((function e(t){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,Ee.a.post("/api/auth",t,n);case 4:r=e.sent,i({type:ht,payload:r.data}),s(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response.data.msg),i({type:ft,payload:e.t0.response.data.msg});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(I.a)(U.a.mark((function e(t){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},t.url=window.location.origin,e.prev=2,e.next=5,Ee.a.post("/api/auth/request-password-reset",t,n);case 5:r=e.sent,console.log("result",r),i({type:jt,payload:r.data}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0.response.data.msg),i({type:bt,payload:e.t0.response.data.msg});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(I.a)(U.a.mark((function e(t){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},console.log("data in state",t),e.prev=2,e.next=5,Ee.a.post("/api/auth/reset-password",t,n);case 5:r=e.sent,console.log("result",r),i({type:mt,payload:r.data}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0.response.data.msg),i({type:bt,payload:e.t0.response.data.msg});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(u.Provider,{value:{token:c.token,isAuthenticated:c.isAuthenticated,loading:c.loading,member:c.member,role:c.role,error:c.error,register:l,loadMember:s,login:o,logout:function(){return i({type:gt})},clearErrors:function(){return i({type:st})},resetPassword:d,newPassword:b},children:e.children})},Mt=n(141),Gt=function(e,t){switch(t.type){case ot:return[].concat(Object(f.a)(e),[t.payload]);case ut:return e.filter((function(e){return e.id!==t.payload}));default:return e}},At=function(e){var t=Object(r.useReducer)(Gt,[]),n=Object(g.a)(t,2),a=n[0],c=n[1];return Object(j.jsx)(X.Provider,{value:{alerts:a,setAlert:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3,r=Mt.a.v4;c({type:ot,payload:{msg:e,type:t,id:r}}),setTimeout((function(){return c({type:ut,payload:r})}),n)}},children:e.children})};n(137);localStorage.token&&_t(localStorage.token);var Rt=function(){return Object(r.useEffect)((function(){S.a.AutoInit()})),Object(j.jsx)(Et,{children:Object(j.jsx)(vt,{children:Object(j.jsx)(Nt,{children:Object(j.jsx)(Ct,{children:Object(j.jsx)(St,{children:Object(j.jsx)(At,{children:Object(j.jsx)(s.a,{children:Object(j.jsxs)(r.Fragment,{children:[Object(j.jsx)(p,{}),Object(j.jsxs)("div",{className:"container top",children:[Object(j.jsx)(fe,{}),Object(j.jsxs)(l.d,{children:[Object(j.jsx)(Te,{exact:!0,path:"/",component:B}),Object(j.jsx)(l.b,{exact:!0,path:"/about",component:pe}),Object(j.jsx)(Te,{exact:!0,path:"/sessions",component:oe}),Object(j.jsx)(Te,{exact:!0,path:"/messages",component:q}),Object(j.jsx)(Te,{exact:!0,path:"/memberPage",component:te}),Object(j.jsx)(Te,{exact:!0,path:"/groups",component:ie}),Object(j.jsx)(Te,{exact:!0,path:"/oldSess",component:me}),Object(j.jsx)(l.b,{exact:!0,path:"/register",component:Oe}),Object(j.jsx)(l.b,{exact:!0,path:"/login",component:he}),Object(j.jsx)(l.b,{exact:!0,path:"/resetPassword",component:ke}),Object(j.jsx)(l.b,{path:"/newPassword",component:Ce})]})]}),Object(j.jsx)(ge,{}),Object(j.jsx)(xe,{}),Object(j.jsx)(ve,{}),Object(j.jsx)(ye,{}),Object(j.jsx)(Ne,{})]})})})})})})})})},Dt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Lt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(Rt,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/").concat("service-worker.js");console.log("localhost",Dt),Dt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Lt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):(console.log("localhost",Dt),Lt(t,e))}))}}()},55:function(e,t){}},[[138,1,2]]]);
//# sourceMappingURL=main.81409137.chunk.js.map