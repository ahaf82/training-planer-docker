(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{117:function(e,t){},118:function(e,t){},137:function(e,t,n){},138:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(24),c=n.n(i),s=n(15),l=n(11),o=Object(r.createContext)(),u=Object(r.createContext)(),d=Object(r.createContext)(),b=n(0),j=function(e){var t=e.title,n=(e.icon,Object(r.useContext)(o)),a=Object(r.useContext)(u),i=Object(r.useContext)(d),c=n.isAuthenticated,l=n.logout,j=n.member,m=n.role,p=a.clearTrainingGroups,O=i.clearTrainingSessions,h=Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)("li",{children:Object(b.jsxs)(s.b,{to:"/",children:[Object(b.jsx)("i",{className:"fa fa-list-alt","aria-hidden":"true"}),Object(b.jsx)("span",{className:"hide-sm",children:" \xdcbersicht"})]})}),("admin"===m||"superUser"===m)&&Object(b.jsx)("li",{children:Object(b.jsxs)(s.b,{to:"/sessions",children:[Object(b.jsx)("i",{className:"fa fa-calendar","aria-hidden":"true"}),Object(b.jsx)("span",{className:"hide-sm",children:" Trainingsplanung"})]})}),("admin"===m||"superUser"===m)&&Object(b.jsx)("li",{children:Object(b.jsxs)(s.b,{to:"/groups",children:[Object(b.jsx)("i",{className:"fa fa-users","aria-hidden":"true"}),Object(b.jsx)("span",{className:"hide-sm",children:" Trainingsgruppen"})]})}),("admin"===m||"superUser"===m)&&Object(b.jsx)("li",{children:Object(b.jsxs)(s.b,{to:"/messages",children:[Object(b.jsx)("i",{className:"fa fa-envelope-open-text","aria-hidden":"true"}),Object(b.jsx)("span",{className:"hide-sm",children:" Nachrichten"})]})}),("admin"===m||"superUser"===m)&&Object(b.jsx)("li",{children:Object(b.jsxs)(s.b,{to:"/memberPage",children:[Object(b.jsx)("i",{className:"fa fa-user-circle","aria-hidden":"true"}),Object(b.jsx)("span",{className:"hide-sm",children:" Mitglieder"})]})}),("admin"===m||"superUser"===m)&&Object(b.jsx)("li",{children:Object(b.jsxs)(s.b,{to:"/oldSess",children:[Object(b.jsx)("i",{class:"fa fa-reply-all","aria-hidden":"true"}),Object(b.jsx)("span",{className:"hide-sm",children:" Alte Eintr\xe4ge"})]})}),"member"===m&&Object(b.jsxs)("li",{children:["Hallo ",j&&j.name]}),Object(b.jsx)("li",{children:Object(b.jsxs)("a",{onClick:function(){l(),p(),O()},href:"#!",children:[Object(b.jsx)("i",{className:"fas fa-sign-out-alt"}),Object(b.jsx)("span",{className:"hide-sm",children:" Logout"})]})})]}),f=Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)("li",{children:Object(b.jsx)(s.b,{to:"/register",children:"Registrierung"})}),Object(b.jsx)("li",{children:Object(b.jsx)(s.b,{to:"/login",children:"Login"})})]});return Object(b.jsxs)("div",{className:"navbar bg-kentai middle",children:[Object(b.jsxs)("h1",{className:"text-light-color x-large",children:[Object(b.jsx)("img",{src:"data:image/png;base64,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",className:"kentai-logo"})," ",t]}),Object(b.jsx)("ul",{children:c?h:f})]})};j.defaultProps={title:"Kentai Plan"};var m=j,p=n(29),O=n.n(p),h=n(142),f=n(140),x=n(6),g=n(2),v=n(4),y=n(14),k=n.n(y),N=(n(23),Object(r.createContext)()),w=n(10),S=n.n(w);k.a.globalLocale="de";var C=function(e){var t=e.session,n=Object(r.useContext)(o),a=n.role,i=n.loading,c=Object(r.useContext)(d),s=c.getTrainingSessions,l=(c.deleteTrainingSession,c.setCurrent),j=(c.clearCurrent,c.updateTrainingSession),m=Object(r.useContext)(u),p=m.trainingGroup,O=m.getTrainingGroups,h=Object(r.useContext)(N),f=h.getMembers,y=(t._id,t.description),w=t.maxMembers,C=t.memberCount,A=t.members,M=t.time,T=t.timeTo,G=t.date,E=[];p&&(E=p.filter((function(e){return e._id===t.trainingGroup})));var U=Object(r.useState)(!1),R=Object(v.a)(U,2),L=R[0],D=R[1];Object(r.useEffect)((function(){void 0!==t.members.find((function(e){return e===n.member._id}))&&D(!0)}),[n.member._id,f,O,s,t.members]);var Y,I;return h.members&&(Y=Object(x.a)(new Set(h.members.filter((function(e){return t.members.includes(e._id)}))))),h.members&&t.trainer&&(I=h.members.filter((function(e){return e._id===t.trainer}))),Object(b.jsx)("div",{className:"column",children:Object(b.jsxs)("div",{className:!0===L?"card bg-dark card-content":"card bg-light card-content",children:[Object(b.jsxs)("h3",{className:!0===L?"text- text-left large":"text-dark text-left large",children:[y," "]}),Object(b.jsxs)("ul",{className:"list",children:[p&&E[0].trainingGroup&&!i&&Object(b.jsxs)("li",{children:[Object(b.jsx)("i",{})," Trainingsgruppe: ",E[0].trainingGroup]}),h.members&&I&&!i&&Object(b.jsxs)("li",{children:[Object(b.jsx)("i",{})," Trainer: ",I[0].name]}),M&&Object(b.jsxs)("li",{children:[Object(b.jsx)("i",{})," Zeit: ",Object(b.jsx)("time",{format:"h:mm:ss",children:M}),T&&Object(b.jsx)("time",{format:"h:mm:ss",children:" - ".concat(T)})]}),G&&Object(b.jsxs)("li",{children:[Object(b.jsx)("i",{})," Datum: ",Object(b.jsx)(k.a,{format:"Do MMMM YYYY",children:G})]}),w&&Object(b.jsxs)("li",{children:[Object(b.jsx)("i",{})," Maximale Teilnehmer: ",w]}),C&&Object(b.jsxs)("li",{children:[Object(b.jsx)("i",{})," Angemeldete Teilnehmer: ",C]}),("admin"===a||"superUser"===a)&&Y&&Object(b.jsxs)("div",{children:[Object(b.jsx)("i",{class:"fa fa-user"})," ",Object(b.jsx)("bold",{children:"Teilnehmer:"})," ",Object(b.jsx)("br",{}),Y.map((function(e){return e.name})).join(", ")]})]}),("admin"===a||"superUser"===a)&&Object(b.jsxs)("p",{children:[Object(b.jsx)("button",{className:"btn btn-dark btn-sm",onClick:function(){return l(t)},children:"\xc4ndern"}),Object(b.jsx)("button",{"data-target":"clear-modal-session",class:"btn btn-danger btn-sm modal-trigger",onClick:function(){return l(t)},children:"L\xf6schen"})]}),("member"===a||"admin"===a||"trainer"===a)&&Object(b.jsxs)("div",{class:"switch",children:["Teilnahme:",Object(b.jsx)("p",{children:Object(b.jsxs)("label",{children:["Check Out",Object(b.jsx)("input",{type:"checkbox",className:"filled-in",name:t._id,value:t.id,checked:L,onChange:function(e){return function(e){e.preventDefault(),D(!L),w&&!L&&C>=w&&S.a.toast({html:"Kein Platz mehr frei",classes:"red darken-2",displayLength:1500}),L||!(C<w)&&w||j(Object(g.a)(Object(g.a)({},t),{},{members:[].concat(Object(x.a)(A),[n.member._id]),memberCount:C+1})),L&&j(1===C?Object(g.a)(Object(g.a)({},t),{},{members:A.filter((function(e){return e!==n.member._id})),memberCount:"0"}):Object(g.a)(Object(g.a)({},t),{},{members:A.filter((function(e){return e!==n.member._id})),memberCount:C-1}))}(e,t._id)},disabled:w&&!L&&C>=w},t._id),Object(b.jsx)("span",{class:"lever"}),"Check In"]})})]})]})})},A=function(){return Object(b.jsx)(r.Fragment,{children:Object(b.jsx)("div",{class:"preloader-wrapper big active",children:Object(b.jsxs)("div",{class:"spinner-layer spinner-rainbow",children:[Object(b.jsx)("div",{class:"circle-clipper left",children:Object(b.jsx)("div",{class:"circle"})}),Object(b.jsx)("div",{class:"gap-patch",children:Object(b.jsx)("div",{class:"circle"})}),Object(b.jsx)("div",{class:"circle-clipper right",children:Object(b.jsx)("div",{class:"circle"})})]})})})},M=n(13),T=n.n(M),G=function(){var e=Object(r.useContext)(o),t=e.role,n=Object(r.useContext)(d),a=n.trainingSessions,i=n.filtered,c=n.getTrainingSessions,s=n.loading;if(Object(r.useEffect)((function(){c()}),[]),null!==a&&0===a.length&&!s&&("admin"===t||"superUser"===t))return Object(b.jsx)("h4",{children:"Bitte f\xfcge eine Trainingseinheit hinzu:"});var l=[];return!a||"admin"!==t&&"superUser"!==t||(l=a.filter((function(e){return e.date>=T()(Date.now()).format("YYYY-MM-DD")}))),!a||"member"!==t&&"trainer"!==t||(l=(l=a.filter((function(t){return void 0!==e.member.trainingGroup.find((function(e){return e===t.trainingGroup}))}))).filter((function(e){return e.date>=T()(Date.now()).format("YYYY-MM-DD")}))),Object(b.jsx)(r.Fragment,{children:null===l||s?Object(b.jsx)(A,{}):Object(b.jsx)(h.a,{children:null!==i?i.map((function(e){return Object(b.jsx)(f.a,{timeout:300,classNames:"item",children:Object(b.jsx)(C,{session:e})},e._id)})):l.map((function(e){return Object(b.jsx)(f.a,{timeout:300,classNames:"item",children:Object(b.jsx)(C,{session:e})},e._id)}))})})};k.a.globalLocale="de";var E=function(e){var t=e.session,n=Object(r.useContext)(o),a=n.role,i=n.loading,c=Object(r.useContext)(u).trainingGroup,s=Object(r.useContext)(N),l=t.description,d=t.maxMembers,j=t.memberCount,m=t.members,p=t.time,O=t.timeTo,h=t.date,f=[];c&&(f=c.filter((function(e){return e._id===t.trainingGroup})));var g,y,w=Object(r.useState)(!1),S=Object(v.a)(w,2),C=S[0],A=S[1];return Object(r.useEffect)((function(){void 0!==t.members.find((function(e){return e===n.member._id}))&&A(!0)}),[t.members,n.member._id,m]),s.members&&(g=Object(x.a)(new Set(s.members.filter((function(e){return t.members.includes(e._id)}))))),s.members&&t.trainer&&(y=s.members.filter((function(e){return e._id===t.trainer}))),Object(b.jsx)("div",{className:"column",children:Object(b.jsxs)("div",{className:!0===C?"card bg-dark":"card bg-light card-content",children:[Object(b.jsxs)("h3",{className:!0===C?"text- text-left large":"text-dark text-left large",children:[l," "]}),Object(b.jsxs)("ul",{className:"list",children:[c&&f[0].trainingGroup&&!i&&Object(b.jsxs)("li",{children:[Object(b.jsx)("i",{})," Trainingsgruppe: ",f[0].trainingGroup]}),s.members&&y&&!i&&Object(b.jsxs)("li",{children:[Object(b.jsx)("i",{})," Trainer: ",y[0].name]}),p&&Object(b.jsxs)("li",{children:[Object(b.jsx)("i",{})," Zeit: ",Object(b.jsx)("time",{format:"h:mm:ss",children:p}),O&&Object(b.jsx)("time",{format:"h:mm:ss",children:" - ".concat(O)})]}),h&&Object(b.jsxs)("li",{children:[Object(b.jsx)("i",{})," Datum: ",Object(b.jsx)(k.a,{format:"Do MMMM YYYY",children:h})]}),d&&Object(b.jsxs)("li",{children:[Object(b.jsx)("i",{})," Maximale Teilnehmer: ",d]}),j&&Object(b.jsxs)("li",{children:[Object(b.jsx)("i",{})," Angemeldete Teilnehmer: ",j]}),("admin"===a||"superUser"===a)&&g&&Object(b.jsxs)("div",{children:[Object(b.jsx)("i",{className:"fa fa-user"})," ",Object(b.jsx)("strong",{children:"Teilnehmer:"})," ",Object(b.jsx)("br",{}),g.map((function(e){return e.name})).join(", ")]})]})]})})},U=function(){var e=Object(r.useContext)(o),t=e.role,n=Object(r.useContext)(d),a=n.trainingSessions,i=n.filtered,c=n.getTrainingSessions,s=n.loading;if(Object(r.useEffect)((function(){c()}),[]),null!==a&&0===a.length&&!s&&("admin"===t||"superUser"===t))return Object(b.jsx)("h4",{children:"Bitte f\xfcge eine Trainingseinheit hinzu:"});var l=[];return!a||"admin"!==t&&"superUser"!==t||(l=a.filter((function(e){return e.date>=T()(Date.now()).format("YYYY-MM-DD")}))),a&&"member"===t&&(l=(l=a.filter((function(t){return void 0!==e.member.trainingGroup.find((function(e){return e===t.trainingGroup}))}))).filter((function(e){return e.date>=T()(Date.now()).format("YYYY-MM-DD")}))),Object(b.jsx)(r.Fragment,{children:null===l||s?Object(b.jsx)(A,{}):Object(b.jsx)(h.a,{children:null!==i?i.map((function(e){return Object(b.jsx)(f.a,{timeout:300,classNames:"item",children:Object(b.jsx)(E,{session:e})},e._id)})):l.map((function(e){return Object(b.jsx)(f.a,{timeout:300,classNames:"item",children:Object(b.jsx)(E,{session:e})},e._id)}))})})},R=function(){var e=Object(r.useContext)(o).role,t=Object(r.useContext)(d),n=t.filterTrainingSessions,a=t.clearFilter,i=t.filtered,c=Object(r.useRef)("");Object(r.useEffect)((function(){"admin"===e&&null===i&&(c.current.value="")}));return Object(b.jsx)("form",{children:Object(b.jsx)("input",{ref:c,type:"text",placeholder:"Suche Trainingseinheit...",onChange:function(e){""!==c.current.value?n(e.target.value):a()}})})},L=n(3),D=n.n(L),Y=n(5),I=function(){var e=Object(r.useContext)(u),t=e.trainingGroup,n=e.getTrainingGroups,a=e.loading;return Object(r.useEffect)((function(){n()}),[]),!a&&null!==t&&t.map((function(e){return Object(b.jsx)("option",{value:e._id,children:e.trainingGroup},e._id)}))},P=function(){var e=Object(r.useContext)(o).member,t=Object(r.useContext)(N),n=t.updateMember,a=t.members,i=Object(r.useContext)(u),c=e._id,s=(e.name,e.email),l=e.role,d=Object(r.useState)(""),j=Object(v.a)(d,2),m=j[0],p=j[1],O=Object(r.useState)(""),h=Object(v.a)(O,2),f=h[0],g=h[1],y=Object(r.useState)(!1),k=Object(v.a)(y,2),w=k[0],S=k[1];function C(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),a=0;a<n.length;++a)r[a]=n.charCodeAt(a);return r}function A(){return(A=Object(Y.a)(D.a.mark((function t(){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.devices.length>0&&null!==T&&navigator.serviceWorker.ready.then((function(e){return e.pushManager?e.pushManager.getSubscription():e.safari.pushNotification()})).then((function(t){t&&""!==e.devices.filter((function(e){return e.endpoint===t.endpoint}))&&(console.log("true"),S(!0))}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(){return(M=Object(Y.a)(D.a.mark((function t(){var r,a,i,l,o;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.serviceWorker.register("/custom-sw.js");case 2:return r=t.sent,console.log("reg",r),t.next=6,navigator.serviceWorker.ready;case 6:if(a=t.sent,console.log("Registering Push...",c,s),console.log("service worker",a),console.log("reg",r),!a.pushManager){t.next=16;break}return t.next=13,a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:C(E)});case 13:i=t.sent,t.next=20;break;case 16:return console.log("sw",a),t.next=19,a.safari.pushNotification({userVisibleOnly:!0,applicationServerKey:C(E)});case 19:i=t.sent;case 20:console.log("subscription"),l={endpoint:i.endpoint,keys:{p256dh:i.toJSON().keys.p256dh,auth:i.toJSON().keys.auth}},console.log("subscribeData",l),o={_id:c,email:s,devices:[].concat(Object(x.a)(e.devices),[l])},!1===e.devices.includes(i.endpoint)&&n(o);case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(){return G.apply(this,arguments)}function G(){return(G=Object(Y.a)(D.a.mark((function t(){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.devices.length>0&&null!==T&&navigator.serviceWorker.ready.then((function(e){return e.pushManager.getSubscription()})).then((function(t){if(t)return t.unsubscribe().then((function(){var r={_id:c,email:s,devices:e.devices.filter((function(e){return e.endpoint!==t.endpoint}))};n(r)}))}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){A.apply(this,arguments)}()}),[]);var E="BHdPFvPLuUV7jmCHacz5h8Qty4BX878BWqirptmLKqKC4SeUjqlqm_ki8R0hjk1wLFSxbFugvEAUcMphIYnyNLg";function U(){return(U=Object(Y.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Sending Push..."),f?(console.log(a.filter((function(e){return e.trainingGroup.includes(f.trainingGroup)||"admin"===e.role}))),a.filter((function(e){return a.filter((function(e){return e.trainingGroup.includes(f.trainingGroup)}))||"admin"===e.role})).map(function(){var e=Object(Y.a)(D.a.mark((function e(n){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.devices&&n.devices.map(function(){var e=Object(Y.a)(D.a.mark((function e(n){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.payload=t,console.log("Gesendet"),e.next=4,fetch("/subscribe",{method:"POST",body:JSON.stringify(n),headers:{"content-type":"application/json"}});case 4:console.log("Push Sent...");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):a.map((function(e){return e.devices.map(function(){var e=Object(Y.a)(D.a.mark((function e(n){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.payload=t,e.next=3,fetch("/subscribe",{method:"POST",body:JSON.stringify(n),headers:{"content-type":"application/json"}});case 3:console.log("Push Sent...");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.jsxs)("div",{className:"column",children:["Notification"in window&&navigator.serviceWorker&&("member"===l||"trainer"===l)&&Object(b.jsxs)("div",{className:"card bg-light",children:["Push Benachrichtigungen auf diesem Ger\xe4t zulassen:",Object(b.jsx)("div",{class:"switch",children:Object(b.jsxs)("label",{children:["Nein",Object(b.jsx)("input",{type:"checkbox",name:"role",checked:w,onChange:function(e){e.preventDefault(),S(!w),!0===w?T():function(){M.apply(this,arguments)}()}}),Object(b.jsx)("span",{class:"lever"}),"Ja"]})})]}),("admin"===l||"superUser"===l)&&Object(b.jsxs)("div",{className:"card bg-light",children:[Object(b.jsx)("div",{className:"input-field",children:Object(b.jsxs)("select",{name:"trainingGroup",value:i._id,className:"browser-default",onChange:function(e){return g({trainingGroup:e.target.value})},defaultValue:"",children:[Object(b.jsx)("option",{value:"",disabled:!0,children:"Trainingsgruppe..."}),Object(b.jsx)(I,{})]},i._id)}),Object(b.jsx)("input",{type:"text",placeholder:"Sende Nachricht",name:"pushData",value:m,onChange:function(e){return p(e.target.value)}}),Object(b.jsx)("button",{className:"btn btn-dark btn-sm",variant:"warning",onClick:function(e){return function(e){return U.apply(this,arguments)}(m)},children:"Sende Push-Nachricht"})]})]})},B=function(){var e=Object(r.useContext)(o).member,t=Object(r.useContext)(N),n=t.updateMember,a=(t.members,Object(r.useContext)(u),e._id),i=(e.name,e.email),c=e.role,s=Object(r.useState)(""),l=Object(v.a)(s,2),d=(l[0],l[1],Object(r.useState)("")),j=Object(v.a)(d,2),m=(j[0],j[1],Object(r.useState)(!1)),p=Object(v.a)(m,2),O=p[0],h=p[1];function f(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),a=0;a<n.length;++a)r[a]=n.charCodeAt(a);return r}function g(){return(g=Object(Y.a)(D.a.mark((function t(){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.devices.length>0&&null!==k&&navigator.serviceWorker.ready.then((function(e){return e.pushManager.getSubscription()})).then((function(t){t&&""!==e.devices.filter((function(e){return e.endpoint===t.endpoint}))&&(console.log("true"),h(!0))}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(){return(y=Object(Y.a)(D.a.mark((function t(){var r,c,s,l;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("serviceWorker"in navigator)){t.next=13;break}return t.next=3,navigator.serviceWorker.register("/custom-sw.js");case 3:return t.sent,t.next=6,navigator.serviceWorker.ready;case 6:return r=t.sent,t.next=9,r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:f(S)});case 9:c=t.sent,s={endpoint:c.endpoint,keys:{p256dh:c.toJSON().keys.p256dh,auth:c.toJSON().keys.auth}},l={_id:a,email:i,devices:[].concat(Object(x.a)(e.devices),[s])},!1===e.devices.includes(c.endpoint)&&n(l);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){return w.apply(this,arguments)}function w(){return(w=Object(Y.a)(D.a.mark((function t(){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.devices.length>0&&null!==k&&navigator.serviceWorker.ready.then((function(e){return e.pushManager.getSubscription()})).then((function(t){if(t)return t.unsubscribe().then((function(){var r={_id:a,email:i,devices:e.devices.filter((function(e){return e.endpoint!==t.endpoint}))};n(r)}))}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[]);var S="BHdPFvPLuUV7jmCHacz5h8Qty4BX878BWqirptmLKqKC4SeUjqlqm_ki8R0hjk1wLFSxbFugvEAUcMphIYnyNLg";return Object(b.jsx)("div",{children:"Notification"in window&&navigator.serviceWorker&&("admin"===c||"superUser"===c)&&Object(b.jsxs)("div",{children:["Push Benachrichtigungen auf diesem Ger\xe4t zulassen:",Object(b.jsx)("div",{class:"switch",children:Object(b.jsxs)("label",{children:["Nein",Object(b.jsx)("input",{type:"checkbox",name:"role",checked:O,onChange:function(e){e.preventDefault(),h(!O),!0===O?k():function(){y.apply(this,arguments)}()}}),Object(b.jsx)("span",{class:"lever"}),"Ja"]})})]})})};k.a.globalLocale="de";var W=function(e){var t=Object(r.useContext)(o),n=t.role,a=Object(r.useContext)(N).getMembers,i=Object(r.useContext)(u).getTrainingGroups,c=Object(r.useContext)(d),s=c.filterTrainingSessions,l=c.getTrainingSessions;Object(r.useEffect)((function(){t.loadMember(),i(),l(),a()}),[]);var j=0;return"admin"!==n&&"superUser"!==n||(j=3),"member"!==n&&"trainer"!==n&&"none"!==n||(j=1),Object(b.jsxs)("div",{className:"grid-".concat(j),children:[Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"center-cal",children:[("admin"===n||"superUser"===n)&&Object(b.jsx)("h4",{className:"text-dark large center",children:"Trainingseinheiten am:"}),("admin"===n||"superUser"===n)&&Object(b.jsx)(O.a,{activeMonth:new Date,daysOfWeek:["Mo","Di","Mi","Do","Fr","Sa","So"],onSelect:function(e){var t=T()(e).format("YYYY-MM-DD");s(t)}}),Object(b.jsx)("br",{}),("admin"===n||"superUser"===n)&&Object(b.jsx)(R,{}),("member"===n||"trainer"===n)&&Object(b.jsx)(G,{}),"none"===n&&Object(b.jsx)("h2",{className:"text-dark large",children:"Melde dich bei deinem Trainer, damit er dich eincheckt"}),("member"===n||"trainer"===n)&&Object(b.jsx)(P,{}),("admin"===n||"superUser"===n)&&Object(b.jsx)(B,{})]})}),Object(b.jsxs)("div",{className:"card-grid-3",children:[("admin"===n||"superUser"===n)&&Object(b.jsx)("h4",{className:"text-dark large center",children:"Kommende Trainingseinheiten:"}),("admin"===n||"superUser"===n)&&Object(b.jsx)(U,{})]})]})};k.a.globalLocale="de";var _=function(e){var t=Object(r.useContext)(o),n=t.role,a=Object(r.useContext)(N).getMembers,i=Object(r.useContext)(u).getTrainingGroups,c=Object(r.useContext)(d),s=c.filterTrainingSessions,l=c.getTrainingSessions;Object(r.useEffect)((function(){t.loadMember(),i(),l(),a()}),[]);var j=0;return"admin"!==n&&"superUser"!==n||(j=3),"member"!==n&&"trainer"!==n&&"none"!==n||(j=1),Object(b.jsxs)("div",{className:"grid-".concat(j),children:[Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"center-cal fixed",children:[("admin"===n||"superUser"===n)&&Object(b.jsx)("h4",{className:"text-dark large center",children:"Trainingseinheiten am:"}),("admin"===n||"superUser"===n)&&Object(b.jsx)(O.a,{activeMonth:new Date,daysOfWeek:["Mo","Di","Mi","Do","Fr","Sa","So"],onSelect:function(e){var t=T()(e).format("YYYY-MM-DD");s(t)}}),Object(b.jsx)("br",{}),("member"===n||"trainer"===n)&&Object(b.jsx)(P,{}),("admin"===n||"superUser"===n)&&Object(b.jsx)(B,{})]})}),Object(b.jsx)("div",{className:"card-grid-3",children:("admin"===n||"superUser"===n)&&Object(b.jsx)(P,{})})]})},F=function(e){var t=e.member,n=Object(r.useContext)(N),a=(n.deleteMember,n.setCurrent),i=(n.clearCurrent,t._id,t.name),c=t.email,s=t.role,l=Object(r.useContext)(u).trainingGroup,o=[];return l&&(o=Object(x.a)(new Set(l.filter((function(e){return t.trainingGroup.includes(e._id)}))))),Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"card bg-light card-content list-card",children:[Object(b.jsxs)("h3",{className:"text-dark text-left large",children:[i," "]}),Object(b.jsxs)("ul",{className:"list",children:[c&&Object(b.jsxs)("li",{children:[Object(b.jsx)("i",{className:"fas fa-envelope-open"})," E-Mail Adresse: ",c]}),s&&Object(b.jsxs)("li",{children:[Object(b.jsx)("i",{className:"fa fa-user","aria-hidden":"true"})," Berechtigung: ",s]}),o&&"admin"!==s&&Object(b.jsxs)("li",{children:[Object(b.jsx)("i",{className:"fa fa-users","aria-hidden":"true"})," Trainingsgruppen:"," ",o.map((function(e){return e.trainingGroup})).join(", ")]})]}),"admin"!==s&&Object(b.jsxs)("p",{children:[Object(b.jsx)("button",{className:"btn btn-dark btn-sm",onClick:function(){return a(t)},children:"\xc4ndern"}),Object(b.jsx)("button",{"data-target":"clear-modal-member",class:"btn btn-danger btn-sm modal-trigger",onClick:function(){return a(t)},children:"L\xf6schen"})]})]})})},K=function(){var e=Object(r.useContext)(o).role,t=Object(r.useContext)(N),n=t.members,a=t.filtered,i=t.getMembers,c=t.loading;return Object(r.useEffect)((function(){i()}),[]),null===n||0!==n.length||c||"admin"!==e?Object(b.jsx)(r.Fragment,{children:null===n||c?Object(b.jsx)(A,{}):Object(b.jsx)(h.a,{children:null!==a?a.map((function(e){return Object(b.jsx)(f.a,{timeout:300,classNames:"item",children:Object(b.jsx)(F,{member:e})},e._id)})):n.map((function(e){return Object(b.jsx)(f.a,{timeout:300,classNames:"item",children:Object(b.jsx)(F,{member:e})},e._id)}))})}):Object(b.jsx)("h4",{children:"Bitte f\xfcge ein Mitglied hinzu:"})},H=function(){var e=Object(r.useContext)(N),t=e.updateMember,n=e.clearCurrent,a=e.current,i=Object(r.useState)({name:"",email:"",role:"",trainingGroup:[],trainingSessions:[]}),c=Object(v.a)(i,2),s=c[0],l=c[1],o=s.name,u=s.email,d=s.role,j=Object(r.useState)(!0),m=Object(v.a)(j,2),p=m[0],O=m[1],h=Object(r.useState)(!1),f=Object(v.a)(h,2),x=f[0],g=f[1];Object(r.useEffect)((function(){null!==a?(l(a),"trainer"===a.role&&g(!0)):l({name:"",email:"",role:"",trainingGroup:[],trainingSessions:[]})}),[e,a]);return Object(b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===u)S.a.toast({html:"Bitte eine g\xfcltige E-Mail Adresse eingeben",classes:"red darken-1",displayLength:1500});else{a.role=!0===p?"none":"member",a.role=!0===x?"trainer":"member",console.log(x);var n={_id:a._id,name:o,email:u,role:a.role,trainingGroup:a.trainingGroup,date:new Date};t(n)}},children:[Object(b.jsx)("h2",{className:"text-dark large",children:"Mitglied \xe4ndern"}),Object(b.jsx)("h2",{className:"text-dark large",children:o}),"none"===d&&Object(b.jsxs)("div",{className:"switch",children:["Berechtigung",Object(b.jsxs)("label",{children:[":  kein Mitglied",Object(b.jsx)("input",{type:"checkbox",name:"role",value:p,onClick:function(){return O(!p)}}),Object(b.jsx)("span",{class:"lever"}),"Mitglied"]})]}),Object(b.jsx)("br",{}),("member"===d||"trainer"===d)&&Object(b.jsx)("div",{class:"switch",children:Object(b.jsxs)("label",{children:["Mitglied",Object(b.jsx)("input",{type:"checkbox",name:"role",value:x,onClick:function(){return g(!x)}}),Object(b.jsx)("span",{class:"lever"}),"Trainer"]})}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{children:Object(b.jsx)("a",{href:"#trainingGroup-list-modal",className:"btn btn-dark btn-block modal-trigger",children:"Trainingsgruppen"})}),a&&Object(b.jsxs)("div",{children:[("none"===d||"member"===d||"trainer"===d)&&Object(b.jsxs)("div",{children:[Object(b.jsx)("br",{}),Object(b.jsx)("a",{href:"#clear-modal-member",className:"btn btn-danger btn-block modal-trigger",children:"L\xf6schen"}),Object(b.jsx)("input",{type:"submit",value:"Mitglied aktualisieren",className:"btn btn-primary btn-block"})]}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"btn btn-light btn-block",onClick:function(){n()},children:"Formular leeren"})})]})]})},J=function(){var e=Object(r.useContext)(o),t=Object(r.useContext)(N),n=t.updateMember,a=t.clearCurrent,i=t.current,c=Object(r.useState)({name:"",email:"",role:"",trainingGroup:[],trainingSessions:[]}),s=Object(v.a)(c,2),l=s[0],u=s[1],d=l.name,j=l.email,m=l.role,p=Object(r.useState)(!0),O=Object(v.a)(p,2),h=O[0],f=O[1],x=Object(r.useState)(!1),g=Object(v.a)(x,2),y=g[0],k=g[1],w=Object(r.useState)([]),C=Object(v.a)(w,2);C[0],C[1];Object(r.useEffect)((function(){null!==e.member?(u(e.member),"trainer"===e.member.role&&k(!0)):u({name:"",email:"",role:"",trainingGroup:[],trainingSessions:[]})}),[t,i]),Object(r.useEffect)((function(){e.loadMember()}),[]);return Object(b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===j)S.a.toast({html:"Bitte eine g\xfcltige E-Mail Adresse eingeben",classes:"red darken-1",displayLength:1500});else{i.role=!0===h?"none":"member",i.role=!0===y?"trainer":"member",console.log(y);var t={_id:i._id,name:d,email:j,role:i.role,trainingGroup:i.trainingGroup,familyMember:i.familyMember,date:new Date};n(t)}},children:[Object(b.jsx)("h2",{className:"text-dark large",children:"Mitglied \xe4ndern"}),Object(b.jsx)("h2",{className:"text-dark large",children:d}),"none"===m&&Object(b.jsxs)("div",{className:"switch",children:["Berechtigung",Object(b.jsxs)("label",{children:[":  kein Mitglied",Object(b.jsx)("input",{type:"checkbox",name:"role",value:h,onClick:function(){return f(!h)}}),Object(b.jsx)("span",{class:"lever"}),"Mitglied"]})]}),Object(b.jsx)("br",{}),("member"===m||"trainer"===m)&&Object(b.jsx)("div",{class:"switch",children:Object(b.jsxs)("label",{children:["Mitglied",Object(b.jsx)("input",{type:"checkbox",name:"role",value:y,onClick:function(){return k(!y)}}),Object(b.jsx)("span",{class:"lever"}),"Trainer"]})}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{children:Object(b.jsx)("a",{href:"#trainingGroup-list-modal",className:"btn btn-dark btn-block modal-trigger",children:"Trainingsgruppen"})}),i&&Object(b.jsxs)("div",{children:[("none"===m||"member"===m||"trainer"===m)&&Object(b.jsxs)("div",{children:[Object(b.jsx)("br",{}),Object(b.jsx)("a",{href:"#clear-modal-member",className:"btn btn-danger btn-block modal-trigger",children:"L\xf6schen"}),Object(b.jsx)("input",{type:"submit",value:"Mitglied aktualisieren",className:"btn btn-primary btn-block"})]}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"btn btn-light btn-block",onClick:function(){a()},children:"Formular leeren"})})]})]})},Z=function(){var e=Object(r.useContext)(N),t=Object(r.useRef)(""),n=e.filterMembers,a=e.clearFilter,i=e.filtered;Object(r.useEffect)((function(){null===i&&(t.current.value="")}));return Object(b.jsx)("form",{children:Object(b.jsx)("input",{ref:t,type:"text",placeholder:"Suche Mitglied...",onChange:function(e){""!==t.current.value?n(e.target.value):a()}})})},z=function(e){var t=Object(r.useContext)(o),n=t.role;Object(r.useEffect)((function(){t.loadMember()}),[]);var a=0;return"admin"!==n&&"superUser"!==n||(a=3),Object(b.jsxs)("div",{className:"grid-".concat(a),children:[Object(b.jsxs)("div",{className:"fixed",children:[("admin"===n||"superUser"===n)&&Object(b.jsx)(H,{}),("trainer"===n||"member"===n||"none"===n)&&Object(b.jsx)(J,{}),Object(b.jsx)("br",{}),("admin"===n||"superUser"===n)&&Object(b.jsx)(Z,{})]}),Object(b.jsx)("div",{className:"card-grid-2 card-grid-3",children:("admin"===n||"superUser"===n)&&Object(b.jsx)(K,{})})]})},q=function(e){var t,n=e.group,a=Object(r.useContext)(o).role,i=Object(r.useContext)(N).members,c=Object(r.useContext)(u),s=(c.deleteTrainingGroup,c.setCurrent),l=(c.clearCurrent,Object(r.useContext)(d).trainingSessions,n._id,n.trainingGroup);return i&&(t=Object(x.a)(new Set(i.filter((function(e){return n.members.includes(e._id)}))))),Object(b.jsxs)("div",{className:"column",children:[("admin"===a||"superUser"===a)&&Object(b.jsxs)("div",{className:"card bg-light",children:[Object(b.jsxs)("h3",{className:"text-dark text-left large",children:[l," "]}),t&&Object(b.jsxs)("div",{children:[Object(b.jsx)("i",{className:"fa fa-user"})," Mitglieder:",t.map((function(e){return Object(b.jsx)("li",{children:e.name},e._id)}))]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("button",{className:"btn btn-dark btn-sm",onClick:function(){return s(n)},children:"\xc4ndern"}),Object(b.jsx)("button",{"data-target":"clear-modal-group",class:"btn btn-danger btn-sm modal-trigger",onClick:function(){return s(n)},children:"L\xf6schen"})]})]}),"member"===a&&Object(b.jsx)("div",{className:"card bg-light",children:Object(b.jsxs)("h3",{className:"text-dark text-left large",children:[n.trainingGroup," "]})})]})},X=function(){var e=Object(r.useContext)(o).role,t=Object(r.useContext)(u),n=t.trainingGroup,a=t.filtered,i=t.loading;return null===n||0!==n.length||i||"admin"!==e?Object(b.jsx)(r.Fragment,{children:null===n||i?Object(b.jsx)(A,{}):Object(b.jsx)(h.a,{children:null!==a?a.map((function(e){return Object(b.jsx)(f.a,{timeout:300,classNames:"item",children:Object(b.jsx)(q,{group:e})},e._id)})):n.map((function(e){return Object(b.jsx)(f.a,{timeout:300,classNames:"item",children:Object(b.jsx)(q,{group:e})},e._id)}))})}):Object(b.jsx)("h4",{className:"large",children:"Bitte f\xfcge eine Trainingsgruppe hinzu:"})},V=n(19),Q=function(){var e=Object(r.useContext)(u),t=e.addTrainingGroup,n=e.updateTrainingGroup,a=e.clearCurrent,i=e.current;Object(r.useEffect)((function(){o(null!==i?i:{trainingGroup:""})}),[e,i]);var c=Object(r.useState)({trainingGroup:""}),s=Object(v.a)(c,2),l=s[0],o=s[1],d=l.trainingGroup;return Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===d?S.a.toast({html:"Bitte eine Gruppenbezeichnung eingeben",classes:"kentai-color",displayLength:1500}):null===i?t(l):n(l)},children:[Object(b.jsx)("h2",{className:"text-dark large",children:i?"Trainingsgruppe \xe4ndern":"Trainingsgruppe hinzuf\xfcgen"}),Object(b.jsx)("input",{type:"text",placeholder:"Trainingsgruppe",name:"trainingGroup",value:d,onChange:function(e){return o(Object(g.a)(Object(g.a)({},l),{},Object(V.a)({},e.target.name,e.target.value)))}}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{type:"submit",value:i?"Trainingsgruppe aktualisieren":"Trainingsgruppe hinzuf\xfcgen",className:"btn btn-dark btn-block"})}),i&&Object(b.jsxs)("div",{children:[Object(b.jsx)("a",{href:"#clear-modal-group",className:"btn btn-danger btn-block modal-trigger",children:"L\xf6schen"}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"btn btn-light btn-block",onClick:a,children:"Formular leeren"})}),Object(b.jsx)("br",{})]})]})},$=function(){var e=Object(r.useContext)(o).role,t=Object(r.useContext)(u),n=t.filterTrainingGroups,a=t.clearFilter,i=t.filtered,c=Object(r.useRef)("");Object(r.useEffect)((function(){null===i&&"admin"===e&&(c.current.value="")}));return Object(b.jsx)("form",{children:Object(b.jsx)("input",{ref:c,type:"text",placeholder:"Suche Trainingsgruppe...",onChange:function(e){""!==c.current.value?n(e.target.value):a()}})})},ee=function(e){var t=Object(r.useContext)(o),n=t.role;Object(r.useEffect)((function(){t.loadMember()}),[]);var a=0;return"admin"!==n&&"superUser"!==n||(a=3),Object(b.jsxs)("div",{className:"grid-".concat(a),children:[Object(b.jsxs)("div",{className:"fixed",children:[("admin"===n||"superUser"===n)&&Object(b.jsx)(Q,{}),("admin"===n||"superUser"===n)&&Object(b.jsx)($,{}),Object(b.jsx)("br",{})]}),Object(b.jsx)("div",{className:"card-grid-2 card-grid-3",children:("admin"===n||"superUser"===n)&&Object(b.jsx)(X,{})})]})},te=function(){var e=Object(r.useContext)(u).getTrainingGroups,t=Object(r.useContext)(N),n=t.members,a=t.getMembers,i=t.loading;return Object(r.useEffect)((function(){e(),a()}),[]),!i&&null!==n&&n.filter((function(e){return"admin"===e.role||"trainer"===e.role})).map((function(e){return Object(b.jsx)("option",{value:e._id,children:e.name},e._id)}))},ne=function(){var e=Object(r.useContext)(u)._id,t=Object(r.useContext)(d),n=t.addTrainingSession,a=t.updateTrainingSession,i=t.clearCurrent,c=t.current;Object(r.useEffect)((function(){j(null!==c?c:{trainingGroup:"",description:"",trainer:"",time:"",timeTo:"",date:"",maxMembers:"",memberCount:"",members:[]})}),[t,c]);var s=Object(r.useState)({trainingGroup:"",description:"",trainer:"",time:"",timeTo:"",date:"",maxMembers:"",memberCount:"",members:[]}),l=Object(v.a)(s,2),o=l[0],j=l[1],m=o.trainingGroup,p=o.description,O=o.trainer,h=o.time,f=o.timeTo,x=o.date,y=o.maxMembers,k=function(e){return j(Object(g.a)(Object(g.a)({},o),{},Object(V.a)({},e.target.name,e.target.value)))};return Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===m?S.a.toast({html:"Bitte Trainingsgruppe eingeben",className:"kentai-color",displayLength:1500}):""===p?S.a.toast({html:"Bitte Beschreibung eingeben",className:"kentai-color",displayLength:1500}):""===O?S.a.toast({html:"Bitte Trainer eingeben",classes:"kentai-color",displayLength:1500}):""===x?S.a.toast({html:"Bitte Datum eingeben",classes:"kentai-color",displayLength:1500}):""===h?S.a.toast({html:"Bitte Zeit eingeben",classes:"kentai-color",displayLength:1500}):null===c?n(o):a(o)},children:[Object(b.jsx)("h2",{className:"text-dark large",children:c?"Trainingseinheit \xe4ndern":"Trainingseinheit hinzuf\xfcgen"}),Object(b.jsx)("div",{className:"input-field",children:Object(b.jsxs)("select",{name:"trainingGroup",value:e,className:"browser-default",onChange:k,children:[Object(b.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Trainingsgruppe..."}),Object(b.jsx)(I,{})]},e)}),Object(b.jsx)("input",{type:"text",placeholder:"Beschreibung",name:"description",value:p,onChange:k}),Object(b.jsx)("div",{className:"input-field",children:Object(b.jsxs)("select",{name:"trainer",value:e,className:"browser-default",onChange:k,children:[Object(b.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Trainer..."}),Object(b.jsx)(te,{})]},e)}),"von: ",Object(b.jsx)("input",{type:"time",placeholder:"",name:"time",value:h,onChange:k}),"bis: ",Object(b.jsx)("input",{type:"time",placeholder:"",name:"timeTo",value:f,onChange:k}),Object(b.jsx)("input",{type:"date",placeholder:"",name:"date",value:x,onChange:k}),"Teilnehmer zugelassen: ",Object(b.jsx)("input",{type:"number",placeholder:"0",name:"maxMembers",value:y,onChange:k}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{type:"submit",value:c?"Trainingseinheit aktualisieren":"Trainingseinheit hinzuf\xfcgen",className:"btn btn-dark btn-block"})}),c&&Object(b.jsxs)("div",{children:[Object(b.jsx)("a",{href:"#clear-modal-session",className:"btn btn-danger btn-block modal-trigger",children:"L\xf6schen"}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{className:"btn btn-light btn-block",onClick:function(){i()},children:"Formular leeren"})]})]})},re=function(e){var t=Object(r.useContext)(o),n=t.role;Object(r.useEffect)((function(){t.loadMember()}),[]);var a=0;return"admin"!==n&&"superUser"!==n||(a=3),Object(b.jsxs)("div",{className:"grid-".concat(a),children:[Object(b.jsxs)("div",{className:"fixed",children:[("admin"===n||"superUser"===n)&&Object(b.jsx)(ne,{}),Object(b.jsx)("br",{}),("admin"===n||"superUser"===n)&&Object(b.jsx)(R,{})]}),Object(b.jsx)("div",{className:"card-grid-2 card-grid-3",children:("admin"===n||"superUser"===n)&&Object(b.jsx)(G,{})})]})};k.a.globalLocale="de";var ae=function(e){var t=e.session,n=Object(r.useContext)(o),a=n.role,i=n.loading,c=Object(r.useContext)(d),s=c.getTrainingSessions,l=c.deleteTrainingSession,j=c.clearCurrent,m=Object(r.useContext)(u),p=m.trainingGroup,O=m.getTrainingGroups,h=Object(r.useContext)(N),f=h.getMembers,g=t._id,y=t.description,w=t.maxMembers,S=t.memberCount,C=t.members,A=t.time,M=t.timeTo,T=t.date,G=[];p&&(G=p.filter((function(e){return e._id===t.trainingGroup})));var E,U,R=Object(r.useState)(!1),L=Object(v.a)(R,2),D=(L[0],L[1]);return Object(r.useEffect)((function(){void 0!==t.members.find((function(e){return e===n.member._id}))&&(console.log(C.find((function(e){return e===n.member._id}))),D(!0))}),[f,O,s,t.members,n.member._id,C]),h.members&&(E=Object(x.a)(new Set(h.members.filter((function(e){return t.members.includes(e._id)}))))),h.members&&t.trainer&&(U=h.members.filter((function(e){return e._id===t.trainer}))),Object(b.jsx)("div",{className:"column",children:Object(b.jsxs)("div",{className:"card bg-light card-content",children:[Object(b.jsxs)("h3",{className:"text-dark text-left large",children:[y," "]}),Object(b.jsxs)("ul",{className:"list",children:[p&&G[0].trainingGroup&&!i&&Object(b.jsxs)("li",{children:[Object(b.jsx)("i",{})," Trainingsgruppe: ",G[0].trainingGroup]}),h.members&&U&&!i&&Object(b.jsxs)("li",{children:[Object(b.jsx)("i",{})," Trainer: ",U[0].name]}),A&&Object(b.jsxs)("li",{children:[Object(b.jsx)("i",{})," Zeit: ",Object(b.jsx)("time",{format:"h:mm:ss",children:A}),M&&Object(b.jsx)("time",{format:"h:mm:ss",children:" - ".concat(M)})]}),T&&Object(b.jsxs)("li",{children:[Object(b.jsx)("i",{})," Datum: ",Object(b.jsx)(k.a,{format:"Do MMMM YYYY",children:T})]}),w&&Object(b.jsxs)("li",{children:[Object(b.jsx)("i",{})," Maximale Teilnehmer: ",w]}),S&&Object(b.jsxs)("li",{children:[Object(b.jsx)("i",{})," Angemeldete Teilnehmer: ",S]}),("admin"===a||"superUser"===a)&&E&&Object(b.jsxs)("div",{children:[Object(b.jsx)("i",{class:"fa fa-user"})," ",Object(b.jsx)("bold",{children:"Teilnehmer:"})," ",Object(b.jsx)("br",{}),E.map((function(e){return e.name})).join(", ")]})]}),("admin"===a||"superUser"===a)&&Object(b.jsx)("p",{children:Object(b.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){l(g),j()},children:"L\xf6schen"})})]})})},ie=n(65),ce=n(41),se=function(e){var t=e.csvData,n=e.fileName;return Object(b.jsx)("button",{className:"btn btn-dark btn-sm",variant:"warning",onClick:function(e){return function(e,t){var n={Sheets:{data:ce.utils.json_to_sheet(e)},SheetNames:["data"]},r=ce.write(n,{bookType:"xlsx",type:"array"}),a=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});ie.saveAs(a,t+".xlsx")}(t,n)},children:"Exportiere Liste"})};k.a.globalLocale="de";var le=function(){var e=Object(r.useContext)(o).role,t=Object(r.useContext)(d),n=t.trainingSessions,a=t.loading,i=Object(r.useContext)(N),c=T()(Date.now()).format("YYYY-MM-DD"),s=[];!n||"admin"!==e&&"superUser"!==e||(s=n.filter((function(e){return e.date<T()(Date.now()).format("YYYY-MM-DD")})));var l=[{Datum:"",Zeit:"",Trainer:"",Trainingseinheit:"",Teilnehmer:""}];return!n||"admin"!==e&&"superUser"!==e||(l=n.filter((function(e){return e.date<T()(Date.now()).format("YYYY-MM-DD")})).map((function(e){var t,n,r;if(i.members){t=Object(x.a)(new Set(i.members.filter((function(t){return e.members.includes(t._id)})))).map((function(e){return e.name})).join(", ");var a=i.members.filter((function(t){return t._id===e.trainer}));a[0]&&(n=a[0].name),r=void 0!==e.timeTo?e.time+" - "+e.timeTo:e.time}return{Datum:T()(e.date).format("DD.MMMM.YYYY"),Zeit:r,Trainingseinheit:e.description,Trainer:n,Teilnehmer:t}}))),Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(se,{csvData:l,fileName:"Trainingseinheiten-Export_".concat(c)}),null===s||"admin"!==e&&"superUser"!==e||a?Object(b.jsx)(A,{}):Object(b.jsx)(h.a,{children:s.map((function(e){return Object(b.jsx)(f.a,{timeout:300,classNames:"item",children:Object(b.jsx)(ae,{session:e})},e._id)}))})]})},oe=function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"\xdcber diese App"}),Object(b.jsx)("p",{className:"my-1",children:"Plane deine Trainingseinheiten mit deinen Freunden"}),Object(b.jsxs)("p",{className:"bg-dark p",children:[Object(b.jsx)("strong",{children:"Version: "}),"1.0.0"]})]})},ue=Object(r.createContext)(),de=function(e){var t=Object(r.useContext)(ue),n=Object(r.useContext)(o),a=t.setAlert,i=n.register,c=n.error,s=n.clearErrors,l=n.isAuthenticated;Object(r.useEffect)((function(){l&&e.history.push("/"),c&&(a(c,"danger"),s())}),[c,l,e.history]);var u=Object(r.useState)({name:"",email:"",password:"",password2:""}),d=Object(v.a)(u,2),j=d[0],m=d[1],p=j.name,O=j.email,h=j.password,f=j.password2,x=function(e){return m(Object(g.a)(Object(g.a)({},j),{},Object(V.a)({},e.target.name,e.target.value)))};return Object(b.jsxs)("div",{className:"form-container",children:[Object(b.jsx)("h1",{className:"text-dark x-large",children:"Konto registrieren"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===p||""===O||""===h?a("Bitte alle Felder ausf\xfcllen","dark"):h!==f?a("Die Passworteingaben stimmen nicht \xfcbereinander","dark"):i({name:p,email:O,password:h})},children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"name",children:"Name"}),Object(b.jsx)("input",{type:"text",name:"name",value:p,onChange:x})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email",children:"E-Mail Adresse"}),Object(b.jsx)("input",{type:"email",name:"email",value:O,onChange:x})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"password",children:"Passwort (Mindestens 8 Zeichen inklusive Gro\xdf- und Kleinbuchstaben, Zahlen und Sonderzeichen)"}),Object(b.jsx)("input",{type:"password",name:"password",value:h,onChange:x})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"password2",children:"Passwort best\xe4tigen"}),Object(b.jsx)("input",{type:"password",name:"password2",value:f,onChange:x})]}),Object(b.jsx)("input",{type:"submit",value:"Registrieren",className:"btn btn-dark btn-block"})]})]})},be=function(e){var t=Object(r.useContext)(ue),n=Object(r.useContext)(o),a=t.setAlert,i=n.resetPassword,c=(n.error,n.clearErrors,Object(r.useState)({name:"",email:"",password:"",password2:""})),s=Object(v.a)(c,2),l=s[0],u=s[1],d=l.email;return Object(b.jsxs)("div",{className:"form-container",children:[Object(b.jsx)("p",{className:"text-dark large",children:"Gib deine E-Mail Adresse zum Zur\xfccksetzen des Passworts ein:"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===d?a("Bitte gib deine E-Mail Adresse ein","dark"):(i({email:d}),a("Wir haben dir eine Mail zum Zur\xfccksetzen des Passworts zugesendet","dark"))},children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email",children:"E-Mail Adresse"}),Object(b.jsx)("input",{type:"email",name:"email",value:d,onChange:function(e){return u(Object(g.a)(Object(g.a)({},l),{},Object(V.a)({},e.target.name,e.target.value)))}})]}),Object(b.jsx)("input",{type:"submit",value:"Abschicken",className:"btn btn-dark btn-block"})]})]})},je=function(e){var t=Object(r.useContext)(ue),n=Object(r.useContext)(o),a=t.setAlert,i=n.login,c=n.error,l=n.clearErrors,u=n.isAuthenticated;n.resetPassword;Object(r.useEffect)((function(){u&&e.history.push("/"),c&&(a(c,"danger"),l())}),[c,u,e.history]);var d=Object(r.useState)({email:"",password:""}),j=Object(v.a)(d,2),m=j[0],p=j[1],O=m.email,h=m.password,f=function(e){return p(Object(g.a)(Object(g.a)({},m),{},Object(V.a)({},e.target.name,e.target.value)))};return Object(b.jsxs)("div",{className:"form-container",children:[Object(b.jsx)("h1",{children:Object(b.jsx)("span",{className:"text-dark large",children:"Login"})}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===O||""===h?a("Bitte E-Mail Adresse und Passwort eingeben","danger"):i({email:O,password:h})},children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email",children:"E-Mail Adresse"}),Object(b.jsx)("input",{type:"email",name:"email",value:O,onChange:f})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"password",children:"Passwort"}),Object(b.jsx)("input",{type:"password",name:"password",value:h,onChange:f})]}),Object(b.jsx)("input",{type:"submit",value:"Login",className:"btn btn-dark btn-block"})]}),Object(b.jsx)("li",{children:Object(b.jsx)(s.b,{to:"/resetPassword",children:Object(b.jsx)("span",{className:"text-dark small",children:"Passwort zur\xfccksetzen"})})})]})},me=function(){var e=Object(r.useContext)(ue);return e.alerts.length>0&&e.alerts.map((function(e){return Object(b.jsxs)("div",{className:"alert alert-".concat(e.type),children:[Object(b.jsx)("i",{className:"fas fa-info-circle"})," ",e.msg]},e.id)}))},pe=function(){var e=Object(r.useContext)(ue).setAlert,t=Object(r.useContext)(N),n=t.updateMember,a=t.current,i=t.clearCurrent,c=Object(r.useContext)(u),s=c.trainingGroup,l=c.getTrainingGroups,o=c.updateTrainingGroup;Object(r.useEffect)((function(){p(null!==a?a:{name:"",email:"",role:"",trainingGroup:[],trainingSessions:[]}),l()}),[t,a]);var d=Object(r.useState)({name:"",email:"",role:"",trainingGroup:[],trainingSessions:[]}),j=Object(v.a)(d,2),m=j[0],p=j[1],O=m.name,h=m.email,f=Object(r.useState)(!1),g=Object(v.a)(f,2),y=g[0];g[1];return Object(b.jsx)("div",{id:"trainingGroup-list-modal",className:"modal",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsx)("h4",{children:"Trainingsgruppen"}),Object(b.jsx)("ul",{className:"collection",children:Object(b.jsx)(r.Fragment,{children:s&&s.map((function(e,t){return Object(b.jsx)("p",{id:e._id,children:Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",className:"filled-in",name:e._id,value:e._id,checked:m.trainingGroup.includes(e._id),onChange:function(t){return function(e,t){null!==a&&(m.trainingGroup.includes(t)?p({trainingGroup:m.trainingGroup.filter((function(e){return e!==t}))}):(p({trainingGroup:[].concat(Object(x.a)(m.trainingGroup),[e.target.value])}),console.log(s)))}(t,e._id)}},e._id),Object(b.jsx)("span",{children:e.trainingGroup})]})},e._id)}))})}),Object(b.jsx)("div",{className:"modal-footer",children:Object(b.jsx)("a",{href:"#!",onClick:function(t){if(t.preventDefault(),""===h)e("Bitte eine g\xfcltige E-Mail Adresse eingeben","danger");else{a.role=!0===y?"none":"member";var r={_id:a._id,name:O,email:h,role:a.role,trainingGroup:m.trainingGroup,date:new Date};n(r),s.map((function(e){""!=m.trainingGroup.filter((function(t){return t===e._id}))?(console.log("add: "+m.trainingGroup.filter((function(t){return t===e._id}))),o({_id:e._id,members:[].concat(Object(x.a)(e.members),[a._id])})):o({_id:e._id,members:e.members.filter((function(e){return e!==a._id}))})}))}p({name:"",email:"",role:"",trainingGroup:[],trainingSessions:[]}),i()},className:"modal-close waves-effect waves-kentai btn",children:"Best\xe4tigung"})})]})})},Oe=function(){var e=Object(r.useContext)(N),t=e.current,n=e.deleteMember,a=e.clearCurrent,i=(e.getMembers,Object(r.useContext)(u)),c=(i.trainingGroup,i.getTrainingGroups);i.updateTrainingGroup;Object(r.useEffect)((function(){o(null!==t?t:{name:"",email:"",role:"",trainingGroup:[],trainingSessions:[]}),c()}),[e,t]);var s=Object(r.useState)({name:"",email:"",role:"",trainingGroup:[],trainingSessions:[]}),l=Object(v.a)(s,2),o=(l[0],l[1]);return Object(b.jsx)("div",{id:"clear-modal-member",className:"modal",children:Object(b.jsxs)("div",{className:"modal-content",children:[t&&Object(b.jsxs)("h5",{children:[Object(b.jsx)("span",{className:"text-bold",children:t.name})," wirklich l\xf6schen?"]}),Object(b.jsxs)("div",{className:"modal-footer",children:[Object(b.jsx)("a",{href:"#!",onClick:function(){n(t._id),a()},className:"modal-close btn btn-danger btn-sm btn",children:"L\xf6schen"})," "," ",Object(b.jsx)("a",{href:"#!",className:"modal-close btn btn-dark btn-sm btn",children:"Abbrechen"})]})]})})},he=function(){var e=Object(r.useContext)(u),t=e.deleteTrainingGroup,n=e.current,a=e.clearCurrent,i=Object(r.useContext)(d).trainingSessions;Object(r.useEffect)((function(){o(null!==n?n:{trainingGroup:""})}),[e,n]);var c=Object(r.useState)({trainingGroup:""}),s=Object(v.a)(c,2),l=s[0],o=s[1],j=l._id;return Object(b.jsx)("div",{id:"clear-modal-group",className:"modal",children:Object(b.jsxs)("div",{className:"modal-content",children:[n&&Object(b.jsxs)("h5",{children:[Object(b.jsx)("span",{className:"text-bold",children:n.trainingGroup})," wirklich l\xf6schen?"]}),Object(b.jsxs)("div",{className:"modal-footer",children:[Object(b.jsx)("a",{href:"#!",onClick:function(){var e;i?void 0!==(null===(e=i.filter((function(e){return e.trainingGroup===j}))[0])||void 0===e?void 0:e.trainingGroup)&&S.a.toast({html:"Bitte erst alle Traininingseinheiten f\xfcr die Gruppe l\xf6schen",classes:"kentai-color",displayLength:1500}):(t(j),a())},className:"modal-close btn btn-danger btn-sm btn",children:"L\xf6schen"})," "," ",Object(b.jsx)("a",{href:"#!",className:"modal-close btn btn-dark btn-sm btn",children:"Abbrechen"})]})]})})},fe=function(e){e.session;var t=Object(r.useContext)(d),n=t.deleteTrainingSession,a=t.clearCurrent,i=t.current;return Object(b.jsx)("div",{id:"clear-modal-session",className:"modal",children:Object(b.jsxs)("div",{className:"modal-content",children:[i&&Object(b.jsxs)("h5",{children:[Object(b.jsx)("span",{className:"text-bold",children:i.description})," wirklich l\xf6schen?"]}),Object(b.jsxs)("div",{className:"modal-footer",children:[Object(b.jsx)("a",{href:"#!",onClick:function(){n(i._id),a()},className:"modal-close btn btn-danger btn-sm btn",children:"L\xf6schen"})," "," ",Object(b.jsx)("a",{href:"#!",className:"modal-close btn btn-dark btn-sm btn",children:"Abbrechen"})]})]})})},xe=n(66),ge=["component"],ve=function(e){var t=e.component,n=Object(xe.a)(e,ge),a=Object(r.useContext)(o),i=a.isAuthenticated,c=a.loading;return Object(b.jsx)(l.b,Object(g.a)(Object(g.a)({},n),{},{render:function(e){return i||c?Object(b.jsx)(t,Object(g.a)({},e)):Object(b.jsx)(l.a,{to:"/login"})}}))},ye=(n(119),n(8)),ke=n.n(ye),Ne="GET_TRAININGGROUPS",we="ADD_TRAININGGROUP",Se="UPDATE_TRAININGGROUP",Ce="FILTER_TRAININGGROUPS",Ae="CLEAR_TRAININGGROUPS",Me="DELETE_TRAININGGROUP",Te="GET_MEMBERS",Ge="ADD_MEMBER",Ee="UPDATE_MEMBER",Ue="FILTER_MEMBERS",Re="CLEAR_MEMBERS",Le="DELETE_MEMBER",De="GET_TRAININGSESSIONS",Ye="ADD_TRAININGSESSION",Ie="UPDATE_TRAININGSESSION",Pe="FILTER_TRAININGSESSIONS",Be="CLEAR_TRAININGSESSIONS",We="DELETE_TRAININGSESSION",_e="SET_CURRENT",Fe="TRAININGSESSION_ERROR",Ke="TRAININGGROUP_ERROR",He="MEMBER_ERROR",Je="CLEAR_CURRENT",Ze="CLEAR_ERRORS",ze="CLEAR_FILTER",qe="SET_ALERT",Xe="REMOVE_ALERT",Ve="REGISTER_SUCCESS_ALERT",Qe="REGISTER_FAIL",$e="RESET_PASSWORD",et="MEMBER_LOADED",tt="AUTH_ERROR",nt="LOGIN_SUCCESS",rt="LOGIN_FAIL",at="LOGOUT",it=function(e,t){switch(t.type){case Ne:return Object(g.a)(Object(g.a)({},e),{},{trainingGroup:t.payload,loading:!1});case we:return Object(g.a)(Object(g.a)({},e),{},{trainingGroup:[t.payload].concat(Object(x.a)(e.trainingGroup)),loading:!1});case Se:return Object(g.a)(Object(g.a)({},e),{},{trainingGroup:e.trainingGroup.map((function(e){return e._id===t.payload._id?t.payload:e})),loading:!1});case Me:return Object(g.a)(Object(g.a)({},e),{},{trainingGroup:e.trainingGroup.filter((function(e){return e._id!==t.payload})),loading:!1});case Ae:return Object(g.a)(Object(g.a)({},e),{},{trainingGroup:null,filtered:null,error:null,current:null});case _e:return Object(g.a)(Object(g.a)({},e),{},{current:t.payload});case Je:return Object(g.a)(Object(g.a)({},e),{},{current:null});case Ce:return Object(g.a)(Object(g.a)({},e),{},{filtered:e.trainingGroup.filter((function(e){var n=new RegExp("".concat(t.payload),"gi");return e.trainingGroup.match(n)}))});case ze:return Object(g.a)(Object(g.a)({},e),{},{filtered:null});case Ke:return Object(g.a)(Object(g.a)({},e),{},{error:t.payload});default:return e}},ct=function(e){var t=Object(r.useReducer)(it,{trainingGroup:null,current:null,filtered:null,error:null}),n=Object(v.a)(t,2),a=n[0],i=n[1],c=function(){var e=Object(Y.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.a.get("/api/training-group");case 3:t=e.sent,i({type:Ne,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Ke,payload:e.t0.response.msg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(Y.a)(D.a.mark((function e(t){var n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,ke.a.post("/api/training-group",t,n);case 4:r=e.sent,i({type:we,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:Ke,payload:e.t0.response.msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(Y.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.a.delete("/api/training-group/".concat(t));case 3:i({type:Me,payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),i({type:Ke,payload:e.t0.response.msg});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(Y.a)(D.a.mark((function e(t){var n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,ke.a.put("/api/training-group/".concat(t._id),t,n);case 4:r=e.sent,i({type:Se,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:Ke,payload:e.t0.response.msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(u.Provider,{value:{trainingGroup:a.trainingGroup,current:a.current,filtered:a.filtered,error:a.error,addTrainingGroup:s,deleteTrainingGroup:l,setCurrent:function(e){i({type:_e,payload:e})},clearCurrent:function(){i({type:Je})},updateTrainingGroup:o,filterTrainingGroups:function(e){i({type:Ce,payload:e})},clearFilter:function(){i({type:ze})},getTrainingGroups:c,clearTrainingGroups:function(){i({type:Ae})}},children:e.children})},st=function(e,t){switch(t.type){case De:return Object(g.a)(Object(g.a)({},e),{},{trainingSessions:t.payload,loading:!1});case Ye:return Object(g.a)(Object(g.a)({},e),{},{trainingSessions:[t.payload].concat(Object(x.a)(e.trainingSessions)),loading:!1});case Ie:return Object(g.a)(Object(g.a)({},e),{},{trainingSessions:e.trainingSessions.map((function(e){return e._id===t.payload._id?t.payload:e})),loading:!1});case We:return Object(g.a)(Object(g.a)({},e),{},{trainingSessions:e.trainingSessions.filter((function(e){return e._id!==t.payload})),loading:!1});case Be:return Object(g.a)(Object(g.a)({},e),{},{trainingSessions:null,filtered:null,error:null,current:null});case _e:return Object(g.a)(Object(g.a)({},e),{},{current:t.payload});case Je:return Object(g.a)(Object(g.a)({},e),{},{current:null});case Pe:return Object(g.a)(Object(g.a)({},e),{},{filtered:e.trainingSessions.filter((function(e){var n=new RegExp("".concat(t.payload),"gi");return e.description.match(n)||e.date.match(n)}))});case ze:return Object(g.a)(Object(g.a)({},e),{},{filtered:null});case Fe:return Object(g.a)(Object(g.a)({},e),{},{error:t.payload});default:return e}},lt=function(e){var t=Object(r.useReducer)(st,{trainingSessions:null,current:null,filtered:null,error:null}),n=Object(v.a)(t,2),a=n[0],i=n[1],c=function(){var e=Object(Y.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.a.get("/api/training-session");case 3:t=e.sent,i({type:De,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Fe});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(Y.a)(D.a.mark((function e(t){var n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,ke.a.post("/api/training-session",t,n);case 4:r=e.sent,i({type:Ye,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:Fe,payload:e.t0.response.msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(Y.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.a.delete("/api/training-session/".concat(t));case 3:i({type:We,payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),i({type:Fe,payload:e.t0.response.msg});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(Y.a)(D.a.mark((function e(t){var n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,ke.a.put("/api/training-session/".concat(t._id),t,n);case 4:r=e.sent,i({type:Ie,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:Fe});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(d.Provider,{value:{trainingSessions:a.trainingSessions,current:a.current,filtered:a.filtered,error:a.error,addTrainingSession:s,deleteTrainingSession:l,setCurrent:function(e){i({type:_e,payload:e})},clearCurrent:function(){i({type:Je})},updateTrainingSession:o,filterTrainingSessions:function(e){i({type:Pe,payload:e})},clearFilter:function(){i({type:ze})},getTrainingSessions:c,clearTrainingSessions:function(){i({type:Be})}},children:e.children})},ot=function(e,t){switch(t.type){case Te:return Object(g.a)(Object(g.a)({},e),{},{members:t.payload,loading:!1});case Ge:return Object(g.a)(Object(g.a)({},e),{},{members:[t.payload].concat(Object(x.a)(e.members)),loading:!1});case Ee:return Object(g.a)(Object(g.a)({},e),{},{members:e.members.map((function(e){return e._id===t.payload._id?t.payload:e})),loading:!1});case Le:return Object(g.a)(Object(g.a)({},e),{},{members:e.members.filter((function(e){return e._id!==t.payload})),loading:!1});case Re:return Object(g.a)(Object(g.a)({},e),{},{members:null,filtered:null,error:null,current:null});case _e:return Object(g.a)(Object(g.a)({},e),{},{current:t.payload});case Je:return Object(g.a)(Object(g.a)({},e),{},{current:null});case Ue:return Object(g.a)(Object(g.a)({},e),{},{filtered:e.members.filter((function(e){var n=new RegExp("".concat(t.payload),"gi");return e.name.match(n)}))});case ze:return Object(g.a)(Object(g.a)({},e),{},{filtered:null});case He:return Object(g.a)(Object(g.a)({},e),{},{error:t.payload});default:return e}},ut=function(e){var t=Object(r.useReducer)(ot,{members:null,current:null,filtered:null,error:null}),n=Object(v.a)(t,2),a=n[0],i=n[1],c=function(){var e=Object(Y.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.a.get("/api/member");case 3:t=e.sent,i({type:Te,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:He,payload:e.t0.response.msg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(Y.a)(D.a.mark((function e(t){var n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,ke.a.post("/api/member",t,n);case 4:r=e.sent,console.log(r.data),i({type:Ge,payload:r.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i({type:He,payload:e.t0.response.msg});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(Y.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.a.delete("/api/member/".concat(t));case 3:i({type:Le,payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),i({type:He,payload:e.t0.response.msg});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(Y.a)(D.a.mark((function e(t){var n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,ke.a.put("/api/member/".concat(t._id),t,n);case 4:r=e.sent,i({type:Ee,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:He,payload:e.t0.response.msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(N.Provider,{value:{members:a.members,current:a.current,filtered:a.filtered,error:a.error,addMember:s,deleteMember:l,setCurrent:function(e){i({type:_e,payload:e})},clearCurrent:function(){i({type:Je})},updateMember:o,filterMembers:function(e){i({type:Ue,payload:e})},clearFilter:function(){i({type:ze})},getMembers:c,clearMembers:function(){i({type:Re})}},children:e.children})},dt=function(e,t){switch(t.type){case et:return Object(g.a)(Object(g.a)({},e),{},{isAuthenticated:!0,loading:!1,member:t.payload,role:t.payload.role});case Ve:case $e:case nt:return localStorage.setItem("token",t.payload.token),Object(g.a)(Object(g.a)(Object(g.a)({},e),t.payload),{},{isAuthenticated:!0,loading:!1});case Qe:case tt:case rt:case at:return localStorage.removeItem("token"),console.log(t.payload),Object(g.a)(Object(g.a)({},e),{},{token:null,isAuthenticated:null,loading:!1,member:null,role:null,error:t.payload});case Ze:return Object(g.a)(Object(g.a)({},e),{},{error:null});default:return e}},bt=function(e){e?ke.a.defaults.headers.common["x-auth-token"]=e:delete ke.a.defaults.headers.common["x-auth-token"]},jt=function(e){var t={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,member:null,role:null,error:null},n=Object(r.useReducer)(dt,t),a=Object(v.a)(n,2),i=a[0],c=a[1],s=function(){var e=Object(Y.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&bt(localStorage.token),e.prev=1,e.next=4,ke.a.get("/api/auth");case 4:t=e.sent,c({type:et,payload:t.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),c({type:tt});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(Y.a)(D.a.mark((function e(t){var n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,ke.a.post("/api/member",t,n);case 4:r=e.sent,c({type:Ve,payload:r.data}),s(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response.data.msg),c({type:Qe,payload:e.t0.response.data.msg});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(Y.a)(D.a.mark((function e(t){var n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,ke.a.post("/api/auth",t,n);case 4:r=e.sent,c({type:nt,payload:r.data}),s(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response.data.msg),c({type:rt,payload:e.t0.response.data.msg});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(Y.a)(D.a.mark((function e(t){var n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,ke.a.post("/api/auth/request-password-reset",t,n);case 4:r=e.sent,console.log("result",r),c({type:$e,payload:r.data}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response.data.msg),c({type:Qe,payload:e.t0.response.data.msg});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(o.Provider,{value:{token:i.token,isAuthenticated:i.isAuthenticated,loading:i.loading,member:i.member,role:i.role,error:i.error,register:l,loadMember:s,login:u,logout:function(){return c({type:at})},clearErrors:function(){return c({type:Ze})},resetPassword:d},children:e.children})},mt=n(141),pt=function(e,t){switch(t.type){case qe:return[].concat(Object(x.a)(e),[t.payload]);case Xe:return e.filter((function(e){return e.id!==t.payload}));default:return e}},Ot=function(e){var t=Object(r.useReducer)(pt,[]),n=Object(v.a)(t,2),a=n[0],i=n[1];return Object(b.jsx)(ue.Provider,{value:{alerts:a,setAlert:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3,r=mt.a.v4;i({type:qe,payload:{msg:e,type:t,id:r}}),setTimeout((function(){return i({type:Xe,payload:r})}),n)}},children:e.children})};n(137);localStorage.token&&bt(localStorage.token);var ht=function(){return Object(r.useEffect)((function(){S.a.AutoInit()})),Object(b.jsx)(jt,{children:Object(b.jsx)(ct,{children:Object(b.jsx)(lt,{children:Object(b.jsx)(ut,{children:Object(b.jsx)(Ot,{children:Object(b.jsx)(s.a,{children:Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{}),Object(b.jsxs)("div",{className:"container top",children:[Object(b.jsx)(me,{}),Object(b.jsxs)(l.d,{children:[Object(b.jsx)(ve,{exact:!0,path:"/",component:W}),Object(b.jsx)(l.b,{exact:!0,path:"/about",component:oe}),Object(b.jsx)(ve,{exact:!0,path:"/sessions",component:re}),Object(b.jsx)(ve,{exact:!0,path:"/messages",component:_}),Object(b.jsx)(ve,{exact:!0,path:"/memberPage",component:z}),Object(b.jsx)(ve,{exact:!0,path:"/groups",component:ee}),Object(b.jsx)(ve,{exact:!0,path:"/oldSess",component:le}),Object(b.jsx)(l.b,{exact:!0,path:"/register",component:de}),Object(b.jsx)(l.b,{exact:!0,path:"/login",component:je}),Object(b.jsx)(l.b,{exact:!0,path:"/resetPassword",component:be})]})]}),Object(b.jsx)(pe,{}),Object(b.jsx)(Oe,{}),Object(b.jsx)(he,{}),Object(b.jsx)(fe,{})]})})})})})})})},ft=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function xt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(ht,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/").concat("service-worker.js");console.log("localhost",ft),ft?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):xt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):(console.log("localhost",ft),xt(t,e))}))}}()},55:function(e,t){}},[[138,1,2]]]);
//# sourceMappingURL=main.7fb680cd.chunk.js.map